                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module ECS
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _entity
                                     11 	.globl _EntityAddComponent
                                     12 	.globl _EntityRemoveComponent
                                     13 	.globl _EntityHasComponent
                                     14 	.globl _GetNextAvailableComponentPoolSlot
                                     15 	.globl _getEntityById
                                     16 ;--------------------------------------------------------
                                     17 ; special function registers
                                     18 ;--------------------------------------------------------
                                     19 ;--------------------------------------------------------
                                     20 ; ram data
                                     21 ;--------------------------------------------------------
                                     22 	.area _DATA
    00000000                         23 _entity::
    00000000                         24 	.ds 300
                                     25 ;--------------------------------------------------------
                                     26 ; ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _INITIALIZED
                                     29 ;--------------------------------------------------------
                                     30 ; absolute external ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _DABS (ABS)
                                     33 ;--------------------------------------------------------
                                     34 ; global & static initialisations
                                     35 ;--------------------------------------------------------
                                     36 	.area _HOME
                                     37 	.area _GSINIT
                                     38 	.area _GSFINAL
                                     39 	.area _GSINIT
                                     40 ;--------------------------------------------------------
                                     41 ; Home
                                     42 ;--------------------------------------------------------
                                     43 	.area _HOME
                                     44 	.area _HOME
                                     45 ;--------------------------------------------------------
                                     46 ; code
                                     47 ;--------------------------------------------------------
                                     48 	.area _CODE
                                     49 ;Source/Engine/ECS/../Libraries/vec2.h:32: static inline void vec2_set(vec2 *v, int x, int y) {
                                     50 ;	---------------------------------
                                     51 ; Function vec2_set
                                     52 ; ---------------------------------
    00000000                         53 _vec2_set:
    00000000 69               [ 4]   54 	ld	l, c
    00000001 60               [ 4]   55 	ld	h, b
                                     56 ;Source/Engine/ECS/../Libraries/vec2.h:33: v->x = F12(x);
    00000002 4B               [ 4]   57 	ld	c, e
    00000003 42               [ 4]   58 	ld	b, d
    00000004 29               [ 8]   59 	add	hl, hl
    00000005 29               [ 8]   60 	add	hl, hl
    00000006 29               [ 8]   61 	add	hl, hl
    00000007 29               [ 8]   62 	add	hl, hl
    00000008 7D               [ 4]   63 	ld	a, l
    00000009 02               [ 8]   64 	ld	(bc), a
    0000000A 03               [ 8]   65 	inc	bc
    0000000B 7C               [ 4]   66 	ld	a, h
    0000000C 02               [ 8]   67 	ld	(bc), a
                                     68 ;Source/Engine/ECS/../Libraries/vec2.h:34: v->y = F12(y);
    0000000D 13               [ 8]   69 	inc	de
    0000000E 13               [ 8]   70 	inc	de
    0000000F F8 02            [12]   71 	ldhl	sp,	#2
    00000011 2A               [ 8]   72 	ld	a, (hl+)
    00000012 46               [ 8]   73 	ld	b, (hl)
    00000013 87               [ 4]   74 	add	a, a
    00000014 CB 10            [ 8]   75 	rl	b
    00000016 87               [ 4]   76 	add	a, a
    00000017 CB 10            [ 8]   77 	rl	b
    00000019 87               [ 4]   78 	add	a, a
    0000001A CB 10            [ 8]   79 	rl	b
    0000001C 87               [ 4]   80 	add	a, a
    0000001D CB 10            [ 8]   81 	rl	b
    0000001F 4F               [ 4]   82 	ld	c, a
    00000020 12               [ 8]   83 	ld	(de), a
    00000021 13               [ 8]   84 	inc	de
    00000022 78               [ 4]   85 	ld	a, b
    00000023 12               [ 8]   86 	ld	(de), a
                                     87 ;Source/Engine/ECS/../Libraries/vec2.h:35: }
    00000024 E1               [12]   88 	pop	hl
    00000025 F1               [12]   89 	pop	af
    00000026 E9               [ 4]   90 	jp	(hl)
                                     91 ;Source/Engine/ECS/../Libraries/vec2.h:38: static inline void vec2_add(vec2 *a, const vec2 *b) {
                                     92 ;	---------------------------------
                                     93 ; Function vec2_add
                                     94 ; ---------------------------------
    00000027                         95 _vec2_add:
    00000027 E8 F8            [16]   96 	add	sp, #-8
    00000029 F8 06            [12]   97 	ldhl	sp,	#6
    0000002B 7B               [ 4]   98 	ld	a, e
    0000002C 22               [ 8]   99 	ld	(hl+), a
    0000002D 72               [ 8]  100 	ld	(hl), d
    0000002E F8 04            [12]  101 	ldhl	sp,	#4
    00000030 79               [ 4]  102 	ld	a, c
    00000031 22               [ 8]  103 	ld	(hl+), a
                                    104 ;Source/Engine/ECS/../Libraries/vec2.h:39: a->x += b->x;
    00000032 78               [ 4]  105 	ld	a, b
    00000033 22               [ 8]  106 	ld	(hl+), a
    00000034 7E               [ 8]  107 	ld	a, (hl)
    00000035 F8 02            [12]  108 	ldhl	sp,	#2
    00000037 77               [ 8]  109 	ld	(hl), a
    00000038 F8 07            [12]  110 	ldhl	sp,	#7
    0000003A 7E               [ 8]  111 	ld	a, (hl)
    0000003B F8 03            [12]  112 	ldhl	sp,	#3
    0000003D 32               [ 8]  113 	ld	(hl-), a
    0000003E 2A               [ 8]  114 	ld	a, (hl+)
    0000003F 5F               [ 4]  115 	ld	e, a
    00000040 2A               [ 8]  116 	ld	a, (hl+)
    00000041 57               [ 4]  117 	ld	d, a
    00000042 1A               [ 8]  118 	ld	a, (de)
    00000043 4F               [ 4]  119 	ld	c, a
    00000044 13               [ 8]  120 	inc	de
    00000045 1A               [ 8]  121 	ld	a, (de)
    00000046 47               [ 4]  122 	ld	b, a
    00000047 2A               [ 8]  123 	ld	a, (hl+)
    00000048 5F               [ 4]  124 	ld	e, a
    00000049 56               [ 8]  125 	ld	d, (hl)
    0000004A 1A               [ 8]  126 	ld	a, (de)
    0000004B 6F               [ 4]  127 	ld	l, a
    0000004C 13               [ 8]  128 	inc	de
    0000004D 1A               [ 8]  129 	ld	a, (de)
    0000004E 67               [ 4]  130 	ld	h, a
    0000004F 09               [ 8]  131 	add	hl, bc
    00000050 4D               [ 4]  132 	ld	c, l
    00000051 44               [ 4]  133 	ld	b, h
    00000052 F8 02            [12]  134 	ldhl	sp,	#2
    00000054 2A               [ 8]  135 	ld	a, (hl+)
    00000055 66               [ 8]  136 	ld	h, (hl)
    00000056 6F               [ 4]  137 	ld	l, a
    00000057 79               [ 4]  138 	ld	a, c
    00000058 22               [ 8]  139 	ld	(hl+), a
    00000059 70               [ 8]  140 	ld	(hl), b
                                    141 ;Source/Engine/ECS/../Libraries/vec2.h:40: a->y += b->y;
    0000005A F8 06            [12]  142 	ldhl	sp,	#6
    0000005C 2A               [ 8]  143 	ld	a, (hl+)
    0000005D 4F               [ 4]  144 	ld	c, a
    0000005E 46               [ 8]  145 	ld	b, (hl)
    0000005F 03               [ 8]  146 	inc	bc
    00000060 03               [ 8]  147 	inc	bc
    00000061 59               [ 4]  148 	ld	e, c
    00000062 50               [ 4]  149 	ld	d, b
    00000063 1A               [ 8]  150 	ld	a, (de)
    00000064 F8 00            [12]  151 	ldhl	sp,	#0
    00000066 22               [ 8]  152 	ld	(hl+), a
    00000067 13               [ 8]  153 	inc	de
    00000068 1A               [ 8]  154 	ld	a, (de)
    00000069 77               [ 8]  155 	ld	(hl), a
    0000006A F8 04            [12]  156 	ldhl	sp,	#4
    0000006C 2A               [ 8]  157 	ld	a, (hl+)
    0000006D 66               [ 8]  158 	ld	h, (hl)
    0000006E 6F               [ 4]  159 	ld	l, a
    0000006F 23               [ 8]  160 	inc	hl
    00000070 23               [ 8]  161 	inc	hl
    00000071 5D               [ 4]  162 	ld	e, l
    00000072 54               [ 4]  163 	ld	d, h
    00000073 1A               [ 8]  164 	ld	a, (de)
    00000074 F8 02            [12]  165 	ldhl	sp,	#2
    00000076 22               [ 8]  166 	ld	(hl+), a
    00000077 13               [ 8]  167 	inc	de
    00000078 1A               [ 8]  168 	ld	a, (de)
    00000079 77               [ 8]  169 	ld	(hl), a
    0000007A F8 02            [12]  170 	ldhl	sp,#2
    0000007C 2A               [ 8]  171 	ld	a, (hl+)
    0000007D 5F               [ 4]  172 	ld	e, a
    0000007E 56               [ 8]  173 	ld	d, (hl)
    0000007F E1               [12]  174 	pop	hl
    00000080 E5               [16]  175 	push	hl
    00000081 19               [ 8]  176 	add	hl, de
    00000082 5D               [ 4]  177 	ld	e, l
    00000083 54               [ 4]  178 	ld	d, h
    00000084 7B               [ 4]  179 	ld	a, e
    00000085 02               [ 8]  180 	ld	(bc), a
    00000086 03               [ 8]  181 	inc	bc
    00000087 7A               [ 4]  182 	ld	a, d
    00000088 02               [ 8]  183 	ld	(bc), a
                                    184 ;Source/Engine/ECS/../Libraries/vec2.h:41: }
    00000089 E8 08            [16]  185 	add	sp, #8
    0000008B C9               [16]  186 	ret
                                    187 ;Source/Engine/ECS/../Libraries/vec2.h:44: static inline void vec2_sub(vec2 *a, const vec2 *b) {
                                    188 ;	---------------------------------
                                    189 ; Function vec2_sub
                                    190 ; ---------------------------------
    0000008C                        191 _vec2_sub:
    0000008C E8 FA            [16]  192 	add	sp, #-6
    0000008E F8 04            [12]  193 	ldhl	sp,	#4
    00000090 7B               [ 4]  194 	ld	a, e
    00000091 22               [ 8]  195 	ld	(hl+), a
    00000092 72               [ 8]  196 	ld	(hl), d
    00000093 F8 02            [12]  197 	ldhl	sp,	#2
    00000095 79               [ 4]  198 	ld	a, c
    00000096 22               [ 8]  199 	ld	(hl+), a
                                    200 ;Source/Engine/ECS/../Libraries/vec2.h:45: a->x -= b->x;
    00000097 78               [ 4]  201 	ld	a, b
    00000098 22               [ 8]  202 	ld	(hl+), a
    00000099 7E               [ 8]  203 	ld	a, (hl)
    0000009A F8 00            [12]  204 	ldhl	sp,	#0
    0000009C 77               [ 8]  205 	ld	(hl), a
    0000009D F8 05            [12]  206 	ldhl	sp,	#5
    0000009F 7E               [ 8]  207 	ld	a, (hl)
    000000A0 F8 01            [12]  208 	ldhl	sp,	#1
    000000A2 22               [ 8]  209 	ld	(hl+), a
    000000A3 D1               [12]  210 	pop	de
    000000A4 D5               [16]  211 	push	de
    000000A5 1A               [ 8]  212 	ld	a, (de)
    000000A6 4F               [ 4]  213 	ld	c, a
    000000A7 13               [ 8]  214 	inc	de
    000000A8 1A               [ 8]  215 	ld	a, (de)
    000000A9 47               [ 4]  216 	ld	b, a
    000000AA 2A               [ 8]  217 	ld	a, (hl+)
    000000AB 5F               [ 4]  218 	ld	e, a
    000000AC 56               [ 8]  219 	ld	d, (hl)
    000000AD 1A               [ 8]  220 	ld	a, (de)
    000000AE 6F               [ 4]  221 	ld	l, a
    000000AF 13               [ 8]  222 	inc	de
    000000B0 1A               [ 8]  223 	ld	a, (de)
    000000B1 67               [ 4]  224 	ld	h, a
    000000B2 79               [ 4]  225 	ld	a, c
    000000B3 95               [ 4]  226 	sub	a, l
    000000B4 4F               [ 4]  227 	ld	c, a
    000000B5 78               [ 4]  228 	ld	a, b
    000000B6 9C               [ 4]  229 	sbc	a, h
    000000B7 47               [ 4]  230 	ld	b, a
    000000B8 E1               [12]  231 	pop	hl
    000000B9 E5               [16]  232 	push	hl
    000000BA 79               [ 4]  233 	ld	a, c
    000000BB 22               [ 8]  234 	ld	(hl+), a
    000000BC 70               [ 8]  235 	ld	(hl), b
                                    236 ;Source/Engine/ECS/../Libraries/vec2.h:46: a->y -= b->y;
    000000BD F8 04            [12]  237 	ldhl	sp,#4
    000000BF 2A               [ 8]  238 	ld	a, (hl+)
    000000C0 5F               [ 4]  239 	ld	e, a
    000000C1 56               [ 8]  240 	ld	d, (hl)
    000000C2 21 02 00         [12]  241 	ld	hl, #0x0002
    000000C5 19               [ 8]  242 	add	hl, de
    000000C6 33               [ 8]  243 	inc	sp
    000000C7 33               [ 8]  244 	inc	sp
    000000C8 5D               [ 4]  245 	ld	e, l
    000000C9 54               [ 4]  246 	ld	d, h
    000000CA D5               [16]  247 	push	de
    000000CB 1A               [ 8]  248 	ld	a, (de)
    000000CC 4F               [ 4]  249 	ld	c, a
    000000CD 13               [ 8]  250 	inc	de
    000000CE 1A               [ 8]  251 	ld	a, (de)
    000000CF 47               [ 4]  252 	ld	b, a
    000000D0 F8 02            [12]  253 	ldhl	sp,	#2
    000000D2 2A               [ 8]  254 	ld	a, (hl+)
    000000D3 66               [ 8]  255 	ld	h, (hl)
    000000D4 6F               [ 4]  256 	ld	l, a
    000000D5 23               [ 8]  257 	inc	hl
    000000D6 23               [ 8]  258 	inc	hl
    000000D7 2A               [ 8]  259 	ld	a,	(hl+)
    000000D8 66               [ 8]  260 	ld	h, (hl)
    000000D9 6F               [ 4]  261 	ld	l, a
    000000DA 79               [ 4]  262 	ld	a, c
    000000DB 95               [ 4]  263 	sub	a, l
    000000DC 4F               [ 4]  264 	ld	c, a
    000000DD 78               [ 4]  265 	ld	a, b
    000000DE 9C               [ 4]  266 	sbc	a, h
    000000DF 47               [ 4]  267 	ld	b, a
    000000E0 E1               [12]  268 	pop	hl
    000000E1 E5               [16]  269 	push	hl
    000000E2 79               [ 4]  270 	ld	a, c
    000000E3 22               [ 8]  271 	ld	(hl+), a
    000000E4 70               [ 8]  272 	ld	(hl), b
                                    273 ;Source/Engine/ECS/../Libraries/vec2.h:47: }
    000000E5 E8 06            [16]  274 	add	sp, #6
    000000E7 C9               [16]  275 	ret
                                    276 ;Source/Engine/ECS/../Libraries/vec2.h:50: static inline void vec2_scale(vec2 *a, f12 s) {
                                    277 ;	---------------------------------
                                    278 ; Function vec2_scale
                                    279 ; ---------------------------------
    000000E8                        280 _vec2_scale:
    000000E8 E8 F2            [16]  281 	add	sp, #-14
    000000EA F8 0C            [12]  282 	ldhl	sp,	#12
    000000EC 7B               [ 4]  283 	ld	a, e
    000000ED 22               [ 8]  284 	ld	(hl+), a
    000000EE 72               [ 8]  285 	ld	(hl), d
    000000EF F8 0A            [12]  286 	ldhl	sp,	#10
    000000F1 79               [ 4]  287 	ld	a, c
    000000F2 22               [ 8]  288 	ld	(hl+), a
                                    289 ;Source/Engine/ECS/../Libraries/vec2.h:52: a->x = ((int32_t)a->x * s) >> 4;
    000000F3 78               [ 4]  290 	ld	a, b
    000000F4 22               [ 8]  291 	ld	(hl+), a
    000000F5 7E               [ 8]  292 	ld	a, (hl)
    000000F6 F8 00            [12]  293 	ldhl	sp,	#0
    000000F8 77               [ 8]  294 	ld	(hl), a
    000000F9 F8 0D            [12]  295 	ldhl	sp,	#13
    000000FB 7E               [ 8]  296 	ld	a, (hl)
    000000FC F8 01            [12]  297 	ldhl	sp,	#1
    000000FE 22               [ 8]  298 	ld	(hl+), a
    000000FF D1               [12]  299 	pop	de
    00000100 D5               [16]  300 	push	de
    00000101 1A               [ 8]  301 	ld	a, (de)
    00000102 4F               [ 4]  302 	ld	c, a
    00000103 13               [ 8]  303 	inc	de
    00000104 1A               [ 8]  304 	ld	a, (de)
    00000105 71               [ 8]  305 	ld	(hl), c
    00000106 23               [ 8]  306 	inc	hl
    00000107 22               [ 8]  307 	ld	(hl+), a
    00000108 07               [ 4]  308 	rlca
    00000109 9F               [ 4]  309 	sbc	a, a
    0000010A 22               [ 8]  310 	ld	(hl+), a
    0000010B 77               [ 8]  311 	ld	(hl), a
    0000010C F8 0A            [12]  312 	ldhl	sp,	#10
    0000010E 7E               [ 8]  313 	ld	a, (hl)
    0000010F F8 06            [12]  314 	ldhl	sp,	#6
    00000111 77               [ 8]  315 	ld	(hl), a
    00000112 F8 0B            [12]  316 	ldhl	sp,	#11
    00000114 7E               [ 8]  317 	ld	a, (hl)
    00000115 F8 07            [12]  318 	ldhl	sp,	#7
    00000117 22               [ 8]  319 	ld	(hl+), a
    00000118 07               [ 4]  320 	rlca
    00000119 9F               [ 4]  321 	sbc	a, a
    0000011A 22               [ 8]  322 	ld	(hl+), a
    0000011B 32               [ 8]  323 	ld	(hl-), a
    0000011C 2A               [ 8]  324 	ld	a, (hl+)
    0000011D 5F               [ 4]  325 	ld	e, a
    0000011E 56               [ 8]  326 	ld	d, (hl)
    0000011F D5               [16]  327 	push	de
    00000120 F8 08            [12]  328 	ldhl	sp,	#8
    00000122 2A               [ 8]  329 	ld	a, (hl+)
    00000123 5F               [ 4]  330 	ld	e, a
    00000124 56               [ 8]  331 	ld	d, (hl)
    00000125 D5               [16]  332 	push	de
    00000126 F8 06            [12]  333 	ldhl	sp,	#6
    00000128 2A               [ 8]  334 	ld	a, (hl+)
    00000129 4F               [ 4]  335 	ld	c, a
    0000012A 2A               [ 8]  336 	ld	a, (hl+)
    0000012B 47               [ 4]  337 	ld	b, a
    0000012C 2A               [ 8]  338 	ld	a, (hl+)
    0000012D 5F               [ 4]  339 	ld	e, a
    0000012E 56               [ 8]  340 	ld	d, (hl)
    0000012F CDr00r00         [24]  341 	call	__mullong
    00000132 3E 04            [ 8]  342 	ld	a, #0x04
    00000134                        343 00103$:
    00000134 CB 2A            [ 8]  344 	sra	d
    00000136 CB 1B            [ 8]  345 	rr	e
    00000138 CB 18            [ 8]  346 	rr	b
    0000013A CB 19            [ 8]  347 	rr	c
    0000013C 3D               [ 4]  348 	dec	a
    0000013D 20 F5            [12]  349 	jr	NZ, 00103$
    0000013F E1               [12]  350 	pop	hl
    00000140 E5               [16]  351 	push	hl
    00000141 79               [ 4]  352 	ld	a, c
    00000142 22               [ 8]  353 	ld	(hl+), a
    00000143 70               [ 8]  354 	ld	(hl), b
                                    355 ;Source/Engine/ECS/../Libraries/vec2.h:53: a->y = ((int32_t)a->y * s) >> 4;
    00000144 F8 0C            [12]  356 	ldhl	sp,#12
    00000146 2A               [ 8]  357 	ld	a, (hl+)
    00000147 5F               [ 4]  358 	ld	e, a
    00000148 56               [ 8]  359 	ld	d, (hl)
    00000149 21 02 00         [12]  360 	ld	hl, #0x0002
    0000014C 19               [ 8]  361 	add	hl, de
    0000014D E5               [16]  362 	push	hl
    0000014E 7D               [ 4]  363 	ld	a, l
    0000014F F8 06            [12]  364 	ldhl	sp,	#6
    00000151 77               [ 8]  365 	ld	(hl), a
    00000152 E1               [12]  366 	pop	hl
    00000153 7C               [ 4]  367 	ld	a, h
    00000154 F8 05            [12]  368 	ldhl	sp,	#5
    00000156 32               [ 8]  369 	ld	(hl-), a
    00000157 2A               [ 8]  370 	ld	a, (hl+)
    00000158 5F               [ 4]  371 	ld	e, a
    00000159 56               [ 8]  372 	ld	d, (hl)
    0000015A 1A               [ 8]  373 	ld	a, (de)
    0000015B 4F               [ 4]  374 	ld	c, a
    0000015C 13               [ 8]  375 	inc	de
    0000015D 1A               [ 8]  376 	ld	a, (de)
    0000015E 47               [ 4]  377 	ld	b, a
    0000015F 07               [ 4]  378 	rlca
    00000160 9F               [ 4]  379 	sbc	a, a
    00000161 5F               [ 4]  380 	ld	e, a
    00000162 57               [ 4]  381 	ld	d, a
    00000163 F8 08            [12]  382 	ldhl	sp,	#8
    00000165 2A               [ 8]  383 	ld	a, (hl+)
    00000166 66               [ 8]  384 	ld	h, (hl)
    00000167 6F               [ 4]  385 	ld	l, a
    00000168 E5               [16]  386 	push	hl
    00000169 F8 08            [12]  387 	ldhl	sp,	#8
    0000016B 2A               [ 8]  388 	ld	a, (hl+)
    0000016C 66               [ 8]  389 	ld	h, (hl)
    0000016D 6F               [ 4]  390 	ld	l, a
    0000016E E5               [16]  391 	push	hl
    0000016F CDr00r00         [24]  392 	call	__mullong
    00000172 3E 04            [ 8]  393 	ld	a, #0x04
    00000174                        394 00105$:
    00000174 CB 2A            [ 8]  395 	sra	d
    00000176 CB 1B            [ 8]  396 	rr	e
    00000178 CB 18            [ 8]  397 	rr	b
    0000017A CB 19            [ 8]  398 	rr	c
    0000017C 3D               [ 4]  399 	dec	a
    0000017D 20 F5            [12]  400 	jr	NZ, 00105$
    0000017F F8 04            [12]  401 	ldhl	sp,	#4
    00000181 2A               [ 8]  402 	ld	a, (hl+)
    00000182 66               [ 8]  403 	ld	h, (hl)
    00000183 6F               [ 4]  404 	ld	l, a
    00000184 79               [ 4]  405 	ld	a, c
    00000185 22               [ 8]  406 	ld	(hl+), a
    00000186 70               [ 8]  407 	ld	(hl), b
                                    408 ;Source/Engine/ECS/../Libraries/vec2.h:54: }
    00000187 E8 0E            [16]  409 	add	sp, #14
    00000189 C9               [16]  410 	ret
                                    411 ;Source/Engine/ECS/../Libraries/vec2.h:57: static inline void vec2_copy(vec2 *dest, const vec2 *src) {
                                    412 ;	---------------------------------
                                    413 ; Function vec2_copy
                                    414 ; ---------------------------------
    0000018A                        415 _vec2_copy:
    0000018A E8 FC            [16]  416 	add	sp, #-4
    0000018C F8 02            [12]  417 	ldhl	sp,	#2
    0000018E 7B               [ 4]  418 	ld	a, e
    0000018F 22               [ 8]  419 	ld	(hl+), a
                                    420 ;Source/Engine/ECS/../Libraries/vec2.h:58: dest->x = src->x;
    00000190 7A               [ 4]  421 	ld	a, d
    00000191 32               [ 8]  422 	ld	(hl-), a
    00000192 33               [ 8]  423 	inc	sp
    00000193 33               [ 8]  424 	inc	sp
    00000194 C5               [16]  425 	push	bc
    00000195 2A               [ 8]  426 	ld	a, (hl+)
    00000196 4F               [ 4]  427 	ld	c, a
    00000197 46               [ 8]  428 	ld	b, (hl)
    00000198 D1               [12]  429 	pop	de
    00000199 D5               [16]  430 	push	de
    0000019A 1A               [ 8]  431 	ld	a, (de)
    0000019B 6F               [ 4]  432 	ld	l, a
    0000019C 13               [ 8]  433 	inc	de
    0000019D 1A               [ 8]  434 	ld	a, (de)
    0000019E 67               [ 4]  435 	ld	h, a
    0000019F 7D               [ 4]  436 	ld	a, l
    000001A0 02               [ 8]  437 	ld	(bc), a
    000001A1 03               [ 8]  438 	inc	bc
    000001A2 7C               [ 4]  439 	ld	a, h
    000001A3 02               [ 8]  440 	ld	(bc), a
                                    441 ;Source/Engine/ECS/../Libraries/vec2.h:59: dest->y = src->y;
    000001A4 F8 02            [12]  442 	ldhl	sp,	#2
    000001A6 2A               [ 8]  443 	ld	a, (hl+)
    000001A7 4F               [ 4]  444 	ld	c, a
    000001A8 46               [ 8]  445 	ld	b, (hl)
    000001A9 03               [ 8]  446 	inc	bc
    000001AA 03               [ 8]  447 	inc	bc
    000001AB E1               [12]  448 	pop	hl
    000001AC E5               [16]  449 	push	hl
    000001AD 23               [ 8]  450 	inc	hl
    000001AE 23               [ 8]  451 	inc	hl
    000001AF 2A               [ 8]  452 	ld	a,	(hl+)
    000001B0 66               [ 8]  453 	ld	h, (hl)
    000001B1 02               [ 8]  454 	ld	(bc), a
    000001B2 03               [ 8]  455 	inc	bc
    000001B3 7C               [ 4]  456 	ld	a, h
    000001B4 02               [ 8]  457 	ld	(bc), a
                                    458 ;Source/Engine/ECS/../Libraries/vec2.h:60: }
    000001B5 E8 04            [16]  459 	add	sp, #4
    000001B7 C9               [16]  460 	ret
                                    461 ;Source/Engine/ECS/../Libraries/vec2.h:63: static inline bool vec2_equal(const vec2 *a, const vec2 *b) {
                                    462 ;	---------------------------------
                                    463 ; Function vec2_equal
                                    464 ; ---------------------------------
    000001B8                        465 _vec2_equal:
    000001B8 E8 F8            [16]  466 	add	sp, #-8
    000001BA F8 06            [12]  467 	ldhl	sp,	#6
    000001BC 7B               [ 4]  468 	ld	a, e
    000001BD 22               [ 8]  469 	ld	(hl+), a
    000001BE 72               [ 8]  470 	ld	(hl), d
    000001BF F8 04            [12]  471 	ldhl	sp,	#4
    000001C1 79               [ 4]  472 	ld	a, c
    000001C2 22               [ 8]  473 	ld	(hl+), a
                                    474 ;Source/Engine/ECS/../Libraries/vec2.h:64: return a->x == b->x && a->y == b->y;
    000001C3 78               [ 4]  475 	ld	a, b
    000001C4 22               [ 8]  476 	ld	(hl+), a
    000001C5 2A               [ 8]  477 	ld	a, (hl+)
    000001C6 5F               [ 4]  478 	ld	e, a
    000001C7 3A               [ 8]  479 	ld	a, (hl-)
    000001C8 2B               [ 8]  480 	dec	hl
    000001C9 2B               [ 8]  481 	dec	hl
    000001CA 57               [ 4]  482 	ld	d, a
    000001CB 1A               [ 8]  483 	ld	a, (de)
    000001CC 4F               [ 4]  484 	ld	c, a
    000001CD 13               [ 8]  485 	inc	de
    000001CE 1A               [ 8]  486 	ld	a, (de)
    000001CF 47               [ 4]  487 	ld	b, a
    000001D0 2A               [ 8]  488 	ld	a, (hl+)
    000001D1 5F               [ 4]  489 	ld	e, a
    000001D2 56               [ 8]  490 	ld	d, (hl)
    000001D3 1A               [ 8]  491 	ld	a, (de)
    000001D4 6F               [ 4]  492 	ld	l, a
    000001D5 13               [ 8]  493 	inc	de
    000001D6 1A               [ 8]  494 	ld	a, (de)
    000001D7 67               [ 4]  495 	ld	h, a
    000001D8 7D               [ 4]  496 	ld	a, l
    000001D9 91               [ 4]  497 	sub	a, c
    000001DA 20 3D            [12]  498 	jr	NZ, 00103$
    000001DC 7C               [ 4]  499 	ld	a, h
    000001DD 90               [ 4]  500 	sub	a, b
    000001DE 20 39            [12]  501 	jr	NZ, 00103$
    000001E0 F8 06            [12]  502 	ldhl	sp,	#6
    000001E2 2A               [ 8]  503 	ld	a, (hl+)
    000001E3 4F               [ 4]  504 	ld	c, a
    000001E4 46               [ 8]  505 	ld	b, (hl)
    000001E5 03               [ 8]  506 	inc	bc
    000001E6 03               [ 8]  507 	inc	bc
    000001E7 59               [ 4]  508 	ld	e, c
    000001E8 50               [ 4]  509 	ld	d, b
    000001E9 1A               [ 8]  510 	ld	a, (de)
    000001EA F8 00            [12]  511 	ldhl	sp,	#0
    000001EC 22               [ 8]  512 	ld	(hl+), a
    000001ED 13               [ 8]  513 	inc	de
    000001EE 1A               [ 8]  514 	ld	a, (de)
    000001EF 77               [ 8]  515 	ld	(hl), a
    000001F0 F8 04            [12]  516 	ldhl	sp,#4
    000001F2 2A               [ 8]  517 	ld	a, (hl+)
    000001F3 5F               [ 4]  518 	ld	e, a
    000001F4 56               [ 8]  519 	ld	d, (hl)
    000001F5 21 02 00         [12]  520 	ld	hl, #0x0002
    000001F8 19               [ 8]  521 	add	hl, de
    000001F9 E5               [16]  522 	push	hl
    000001FA 7D               [ 4]  523 	ld	a, l
    000001FB F8 04            [12]  524 	ldhl	sp,	#4
    000001FD 77               [ 8]  525 	ld	(hl), a
    000001FE E1               [12]  526 	pop	hl
    000001FF 7C               [ 4]  527 	ld	a, h
    00000200 F8 03            [12]  528 	ldhl	sp,	#3
    00000202 32               [ 8]  529 	ld	(hl-), a
    00000203 2A               [ 8]  530 	ld	a, (hl+)
    00000204 5F               [ 4]  531 	ld	e, a
    00000205 3A               [ 8]  532 	ld	a, (hl-)
    00000206 57               [ 4]  533 	ld	d, a
    00000207 1A               [ 8]  534 	ld	a, (de)
    00000208 22               [ 8]  535 	ld	(hl+), a
    00000209 13               [ 8]  536 	inc	de
    0000020A 1A               [ 8]  537 	ld	a, (de)
    0000020B 77               [ 8]  538 	ld	(hl), a
    0000020C F8 00            [12]  539 	ldhl	sp,	#0
    0000020E 2A               [ 8]  540 	ld	a, (hl+)
    0000020F 23               [ 8]  541 	inc	hl
    00000210 96               [ 8]  542 	sub	a, (hl)
    00000211 20 06            [12]  543 	jr	NZ, 00115$
    00000213 2B               [ 8]  544 	dec	hl
    00000214 2A               [ 8]  545 	ld	a, (hl+)
    00000215 23               [ 8]  546 	inc	hl
    00000216 96               [ 8]  547 	sub	a, (hl)
    00000217 28 03            [12]  548 	jr	Z, 00104$
    00000219                        549 00115$:
    00000219                        550 00103$:
    00000219 AF               [ 4]  551 	xor	a, a
    0000021A 18 02            [12]  552 	jr	00105$
    0000021C                        553 00104$:
    0000021C 3E 01            [ 8]  554 	ld	a, #0x01
    0000021E                        555 00105$:
                                    556 ;Source/Engine/ECS/../Libraries/vec2.h:65: }
    0000021E E8 08            [16]  557 	add	sp, #8
    00000220 C9               [16]  558 	ret
                                    559 ;Source/Engine/ECS/ECS.c:9: void EntityAddComponent (Entity *entity, uint16_t component) {
                                    560 ;	---------------------------------
                                    561 ; Function EntityAddComponent
                                    562 ; ---------------------------------
    00000221                        563 _EntityAddComponent::
    00000221 E8 F5            [16]  564 	add	sp, #-11
    00000223 F8 09            [12]  565 	ldhl	sp,	#9
    00000225 7B               [ 4]  566 	ld	a, e
    00000226 22               [ 8]  567 	ld	(hl+), a
    00000227 72               [ 8]  568 	ld	(hl), d
    00000228 F8 07            [12]  569 	ldhl	sp,	#7
    0000022A 79               [ 4]  570 	ld	a, c
    0000022B 22               [ 8]  571 	ld	(hl+), a
                                    572 ;Source/Engine/ECS/ECS.c:13: if (EntityHasComponent(entity, component)){
    0000022C 78               [ 4]  573 	ld	a, b
    0000022D 32               [ 8]  574 	ld	(hl-), a
    0000022E 2A               [ 8]  575 	ld	a, (hl+)
    0000022F 4F               [ 4]  576 	ld	c, a
    00000230 2A               [ 8]  577 	ld	a, (hl+)
    00000231 47               [ 4]  578 	ld	b, a
    00000232 2A               [ 8]  579 	ld	a, (hl+)
    00000233 5F               [ 4]  580 	ld	e, a
    00000234 56               [ 8]  581 	ld	d, (hl)
    00000235 CDrE2r04         [24]  582 	call	_EntityHasComponent
    00000238 F8 06            [12]  583 	ldhl	sp,#6
    0000023A 77               [ 8]  584 	ld	(hl), a
    0000023B CB 46            [12]  585 	bit	0, (hl)
                                    586 ;Source/Engine/ECS/ECS.c:14: return;
    0000023D C2rF9r03         [16]  587 	jp	NZ, 00112$
                                    588 ;Source/Engine/ECS/ECS.c:17: entity->components |= component;
    00000240 F8 09            [12]  589 	ldhl	sp,	#9
    00000242 2A               [ 8]  590 	ld	a, (hl+)
    00000243 4F               [ 4]  591 	ld	c, a
    00000244 46               [ 8]  592 	ld	b, (hl)
    00000245 03               [ 8]  593 	inc	bc
    00000246 69               [ 4]  594 	ld	l, c
    00000247 60               [ 4]  595 	ld	h, b
    00000248 23               [ 8]  596 	inc	hl
    00000249 3A               [ 8]  597 	ld	a,	(hl-)
    0000024A 6E               [ 8]  598 	ld	l, (hl)
    0000024B F5               [16]  599 	push	af
    0000024C 7D               [ 4]  600 	ld	a, l
    0000024D E5               [16]  601 	push	hl
    0000024E F8 0B            [12]  602 	ldhl	sp,	#11
    00000250 B6               [ 8]  603 	or	a, (hl)
    00000251 E1               [12]  604 	pop	hl
    00000252 5F               [ 4]  605 	ld	e, a
    00000253 F1               [12]  606 	pop	af
    00000254 F8 08            [12]  607 	ldhl	sp,	#8
    00000256 B6               [ 8]  608 	or	a, (hl)
                                    609 ;Source/Engine/ECS/ECS.c:25: transformComponent.entityID[nextPoolSlot] = entity->ID;
    00000257 23               [ 8]  610 	inc	hl
    00000258 57               [ 4]  611 	ld	d, a
    00000259 7B               [ 4]  612 	ld	a, e
    0000025A 02               [ 8]  613 	ld	(bc), a
    0000025B 03               [ 8]  614 	inc	bc
    0000025C 7A               [ 4]  615 	ld	a, d
    0000025D 02               [ 8]  616 	ld	(bc), a
    0000025E 7E               [ 8]  617 	ld	a, (hl)
    0000025F F8 01            [12]  618 	ldhl	sp,	#1
    00000261 77               [ 8]  619 	ld	(hl), a
    00000262 F8 0A            [12]  620 	ldhl	sp,	#10
    00000264 7E               [ 8]  621 	ld	a, (hl)
    00000265 F8 02            [12]  622 	ldhl	sp,	#2
    00000267 77               [ 8]  623 	ld	(hl), a
                                    624 ;Source/Engine/ECS/ECS.c:20: switch (component) {
    00000268 F8 07            [12]  625 	ldhl	sp,	#7
    0000026A 2A               [ 8]  626 	ld	a, (hl+)
    0000026B 3D               [ 4]  627 	dec	a
    0000026C B6               [ 8]  628 	or	a, (hl)
    0000026D 28 0C            [12]  629 	jr	Z, 00103$
    0000026F F8 07            [12]  630 	ldhl	sp,	#7
    00000271 2A               [ 8]  631 	ld	a, (hl+)
    00000272 D6 02            [ 8]  632 	sub	a, #0x02
    00000274 B6               [ 8]  633 	or	a, (hl)
    00000275 CAr02r03         [16]  634 	jp	Z, 00106$
    00000278 C3rF9r03         [16]  635 	jp	00112$
                                    636 ;Source/Engine/ECS/ECS.c:21: case TRANSFORM_COMPONENT:
    0000027B                        637 00103$:
                                    638 ;Source/Engine/ECS/ECS.c:22: nextPoolSlot = GetNextAvailableComponentPoolSlot(transformComponent.entityID, TRANSFORM_POOL_SIZE);
    0000027B 3E 64            [ 8]  639 	ld	a, #0x64
    0000027D 11r00r00         [12]  640 	ld	de, #_transformComponent
    00000280 CDrF4r04         [24]  641 	call	_GetNextAvailableComponentPoolSlot
                                    642 ;Source/Engine/ECS/ECS.c:23: if (nextPoolSlot != 255) {
    00000283 F8 00            [12]  643 	ldhl	sp,#0
    00000285 77               [ 8]  644 	ld	(hl), a
    00000286 3C               [ 4]  645 	inc	a
    00000287 CArF9r03         [16]  646 	jp	Z, 00112$
                                    647 ;Source/Engine/ECS/ECS.c:24: vec2_set(&transformComponent.position[nextPoolSlot], 0, 0);
    0000028A F8 00            [12]  648 	ldhl	sp,	#0
    0000028C 7E               [ 8]  649 	ld	a, (hl)
    0000028D F8 05            [12]  650 	ldhl	sp,	#5
    0000028F 22               [ 8]  651 	ld	(hl+), a
    00000290 AF               [ 4]  652 	xor	a, a
    00000291 32               [ 8]  653 	ld	(hl-), a
    00000292 3A               [ 8]  654 	ld	a, (hl-)
    00000293 2B               [ 8]  655 	dec	hl
    00000294 22               [ 8]  656 	ld	(hl+), a
    00000295 36 00            [12]  657 	ld	(hl), #0x00
    00000297 3E 02            [ 8]  658 	ld	a, #0x02
    00000299                        659 00152$:
    00000299 F8 03            [12]  660 	ldhl	sp,	#3
    0000029B CB 26            [16]  661 	sla	(hl)
    0000029D 23               [ 8]  662 	inc	hl
    0000029E CB 16            [16]  663 	rl	(hl)
    000002A0 3D               [ 4]  664 	dec	a
    000002A1 20 F6            [12]  665 	jr	NZ, 00152$
    000002A3 2B               [ 8]  666 	dec	hl
    000002A4 2A               [ 8]  667 	ld	a, (hl+)
    000002A5 5F               [ 4]  668 	ld	e, a
    000002A6 56               [ 8]  669 	ld	d, (hl)
    000002A7 21r64r00         [12]  670 	ld	hl, #(_transformComponent + 100)
    000002AA 19               [ 8]  671 	add	hl, de
    000002AB E5               [16]  672 	push	hl
    000002AC 7D               [ 4]  673 	ld	a, l
    000002AD F8 07            [12]  674 	ldhl	sp,	#7
    000002AF 77               [ 8]  675 	ld	(hl), a
    000002B0 E1               [12]  676 	pop	hl
    000002B1 7C               [ 4]  677 	ld	a, h
    000002B2 F8 06            [12]  678 	ldhl	sp,	#6
    000002B4 32               [ 8]  679 	ld	(hl-), a
    000002B5 3A               [ 8]  680 	ld	a, (hl-)
    000002B6 2B               [ 8]  681 	dec	hl
    000002B7 77               [ 8]  682 	ld	(hl), a
    000002B8 F8 06            [12]  683 	ldhl	sp,	#6
    000002BA 3A               [ 8]  684 	ld	a, (hl-)
    000002BB 2B               [ 8]  685 	dec	hl
                                    686 ;Source/Engine/ECS/../Libraries/vec2.h:33: v->x = F12(x);
    000002BC 32               [ 8]  687 	ld	(hl-), a
    000002BD 2A               [ 8]  688 	ld	a, (hl+)
    000002BE 66               [ 8]  689 	ld	h, (hl)
    000002BF 6F               [ 4]  690 	ld	l, a
    000002C0 AF               [ 4]  691 	xor	a, a
    000002C1 22               [ 8]  692 	ld	(hl+), a
    000002C2 77               [ 8]  693 	ld	(hl), a
                                    694 ;Source/Engine/ECS/../Libraries/vec2.h:34: v->y = F12(y);
    000002C3 F8 03            [12]  695 	ldhl	sp,#3
    000002C5 2A               [ 8]  696 	ld	a, (hl+)
    000002C6 5F               [ 4]  697 	ld	e, a
    000002C7 56               [ 8]  698 	ld	d, (hl)
    000002C8 21 02 00         [12]  699 	ld	hl, #0x0002
    000002CB 19               [ 8]  700 	add	hl, de
    000002CC E5               [16]  701 	push	hl
    000002CD 7D               [ 4]  702 	ld	a, l
    000002CE F8 07            [12]  703 	ldhl	sp,	#7
    000002D0 77               [ 8]  704 	ld	(hl), a
    000002D1 E1               [12]  705 	pop	hl
    000002D2 7C               [ 4]  706 	ld	a, h
    000002D3 F8 06            [12]  707 	ldhl	sp,	#6
    000002D5 32               [ 8]  708 	ld	(hl-), a
    000002D6 2A               [ 8]  709 	ld	a, (hl+)
    000002D7 66               [ 8]  710 	ld	h, (hl)
    000002D8 6F               [ 4]  711 	ld	l, a
    000002D9 AF               [ 4]  712 	xor	a, a
    000002DA 22               [ 8]  713 	ld	(hl+), a
    000002DB 77               [ 8]  714 	ld	(hl), a
                                    715 ;Source/Engine/ECS/ECS.c:25: transformComponent.entityID[nextPoolSlot] = entity->ID;
    000002DC 11r00r00         [12]  716 	ld	de, #_transformComponent
    000002DF F8 00            [12]  717 	ldhl	sp,	#0
    000002E1 6E               [ 8]  718 	ld	l, (hl)
    000002E2 26 00            [ 8]  719 	ld	h, #0x00
    000002E4 19               [ 8]  720 	add	hl, de
    000002E5 E5               [16]  721 	push	hl
    000002E6 7D               [ 4]  722 	ld	a, l
    000002E7 F8 07            [12]  723 	ldhl	sp,	#7
    000002E9 77               [ 8]  724 	ld	(hl), a
    000002EA E1               [12]  725 	pop	hl
    000002EB 7C               [ 4]  726 	ld	a, h
    000002EC F8 06            [12]  727 	ldhl	sp,	#6
    000002EE 77               [ 8]  728 	ld	(hl), a
    000002EF F8 01            [12]  729 	ldhl	sp,#1
    000002F1 2A               [ 8]  730 	ld	a, (hl+)
    000002F2 5F               [ 4]  731 	ld	e, a
    000002F3 2A               [ 8]  732 	ld	a, (hl+)
    000002F4 23               [ 8]  733 	inc	hl
    000002F5 57               [ 4]  734 	ld	d, a
    000002F6 1A               [ 8]  735 	ld	a, (de)
    000002F7 22               [ 8]  736 	ld	(hl+), a
    000002F8 2A               [ 8]  737 	ld	a, (hl+)
    000002F9 5F               [ 4]  738 	ld	e, a
    000002FA 3A               [ 8]  739 	ld	a, (hl-)
    000002FB 2B               [ 8]  740 	dec	hl
    000002FC 57               [ 4]  741 	ld	d, a
    000002FD 7E               [ 8]  742 	ld	a, (hl)
    000002FE 12               [ 8]  743 	ld	(de), a
                                    744 ;Source/Engine/ECS/ECS.c:27: break;
    000002FF C3rF9r03         [16]  745 	jp	00112$
                                    746 ;Source/Engine/ECS/ECS.c:28: case SPRITE_COMPONENT:
    00000302                        747 00106$:
                                    748 ;Source/Engine/ECS/ECS.c:29: nextPoolSlot = GetNextAvailableComponentPoolSlot(spriteComponent.entityID, SPRITE_POOL_SIZE);
    00000302 3E 32            [ 8]  749 	ld	a, #0x32
    00000304 11r00r00         [12]  750 	ld	de, #_spriteComponent
    00000307 CDrF4r04         [24]  751 	call	_GetNextAvailableComponentPoolSlot
                                    752 ;Source/Engine/ECS/ECS.c:30: if (nextPoolSlot != 255) {
    0000030A F8 03            [12]  753 	ldhl	sp,#3
    0000030C 77               [ 8]  754 	ld	(hl), a
    0000030D 3C               [ 4]  755 	inc	a
    0000030E CArF9r03         [16]  756 	jp	Z, 00112$
                                    757 ;Source/Engine/ECS/ECS.c:31: spriteComponent.entityID[nextPoolSlot] = entity->ID;
    00000311 11r00r00         [12]  758 	ld	de, #_spriteComponent
    00000314 F8 03            [12]  759 	ldhl	sp,	#3
    00000316 6E               [ 8]  760 	ld	l, (hl)
    00000317 26 00            [ 8]  761 	ld	h, #0x00
    00000319 19               [ 8]  762 	add	hl, de
    0000031A E5               [16]  763 	push	hl
    0000031B 7D               [ 4]  764 	ld	a, l
    0000031C F8 06            [12]  765 	ldhl	sp,	#6
    0000031E 77               [ 8]  766 	ld	(hl), a
    0000031F E1               [12]  767 	pop	hl
    00000320 7C               [ 4]  768 	ld	a, h
    00000321 F8 05            [12]  769 	ldhl	sp,	#5
    00000323 77               [ 8]  770 	ld	(hl), a
    00000324 F8 01            [12]  771 	ldhl	sp,#1
    00000326 2A               [ 8]  772 	ld	a, (hl+)
    00000327 5F               [ 4]  773 	ld	e, a
    00000328 56               [ 8]  774 	ld	d, (hl)
    00000329 1A               [ 8]  775 	ld	a, (de)
    0000032A F8 06            [12]  776 	ldhl	sp,	#6
    0000032C 32               [ 8]  777 	ld	(hl-), a
    0000032D 2B               [ 8]  778 	dec	hl
    0000032E 2A               [ 8]  779 	ld	a, (hl+)
    0000032F 5F               [ 4]  780 	ld	e, a
    00000330 2A               [ 8]  781 	ld	a, (hl+)
    00000331 57               [ 4]  782 	ld	d, a
    00000332 7E               [ 8]  783 	ld	a, (hl)
    00000333 12               [ 8]  784 	ld	(de), a
                                    785 ;Source/Engine/ECS/ECS.c:32: spriteComponent.tileData[nextPoolSlot] = 0; // Null pointer, but zero for consistency
    00000334 F8 03            [12]  786 	ldhl	sp,	#3
    00000336 7E               [ 8]  787 	ld	a, (hl)
    00000337 87               [ 4]  788 	add	a, a
    00000338 F8 06            [12]  789 	ldhl	sp,	#6
    0000033A 77               [ 8]  790 	ld	(hl), a
    0000033B 11r32r00         [12]  791 	ld	de, #(_spriteComponent + 50)
    0000033E 6E               [ 8]  792 	ld	l, (hl)
    0000033F 26 00            [ 8]  793 	ld	h, #0x00
    00000341 19               [ 8]  794 	add	hl, de
    00000342 E5               [16]  795 	push	hl
    00000343 7D               [ 4]  796 	ld	a, l
    00000344 F8 06            [12]  797 	ldhl	sp,	#6
    00000346 77               [ 8]  798 	ld	(hl), a
    00000347 E1               [12]  799 	pop	hl
    00000348 7C               [ 4]  800 	ld	a, h
    00000349 F8 05            [12]  801 	ldhl	sp,	#5
    0000034B 32               [ 8]  802 	ld	(hl-), a
    0000034C 2A               [ 8]  803 	ld	a, (hl+)
    0000034D 66               [ 8]  804 	ld	h, (hl)
    0000034E 6F               [ 4]  805 	ld	l, a
    0000034F AF               [ 4]  806 	xor	a, a
    00000350 22               [ 8]  807 	ld	(hl+), a
    00000351 77               [ 8]  808 	ld	(hl), a
                                    809 ;Source/Engine/ECS/ECS.c:33: spriteComponent.tileIndex[nextPoolSlot] = 0;
    00000352 11r96r00         [12]  810 	ld	de, #(_spriteComponent + 150)
    00000355 F8 03            [12]  811 	ldhl	sp,	#3
    00000357 6E               [ 8]  812 	ld	l, (hl)
    00000358 26 00            [ 8]  813 	ld	h, #0x00
    0000035A 19               [ 8]  814 	add	hl, de
    0000035B E5               [16]  815 	push	hl
    0000035C 7D               [ 4]  816 	ld	a, l
    0000035D F8 06            [12]  817 	ldhl	sp,	#6
    0000035F 77               [ 8]  818 	ld	(hl), a
    00000360 E1               [12]  819 	pop	hl
    00000361 7C               [ 4]  820 	ld	a, h
    00000362 F8 05            [12]  821 	ldhl	sp,	#5
    00000364 32               [ 8]  822 	ld	(hl-), a
    00000365 2A               [ 8]  823 	ld	a, (hl+)
    00000366 66               [ 8]  824 	ld	h, (hl)
    00000367 6F               [ 4]  825 	ld	l, a
    00000368 36 00            [12]  826 	ld	(hl), #0x00
                                    827 ;Source/Engine/ECS/ECS.c:34: spriteComponent.width[nextPoolSlot] = 0;
    0000036A 11rC8r00         [12]  828 	ld	de, #(_spriteComponent + 200)
    0000036D F8 03            [12]  829 	ldhl	sp,	#3
    0000036F 6E               [ 8]  830 	ld	l, (hl)
    00000370 26 00            [ 8]  831 	ld	h, #0x00
    00000372 19               [ 8]  832 	add	hl, de
    00000373 E5               [16]  833 	push	hl
    00000374 7D               [ 4]  834 	ld	a, l
    00000375 F8 06            [12]  835 	ldhl	sp,	#6
    00000377 77               [ 8]  836 	ld	(hl), a
    00000378 E1               [12]  837 	pop	hl
    00000379 7C               [ 4]  838 	ld	a, h
    0000037A F8 05            [12]  839 	ldhl	sp,	#5
    0000037C 32               [ 8]  840 	ld	(hl-), a
    0000037D 2A               [ 8]  841 	ld	a, (hl+)
    0000037E 66               [ 8]  842 	ld	h, (hl)
    0000037F 6F               [ 4]  843 	ld	l, a
    00000380 36 00            [12]  844 	ld	(hl), #0x00
                                    845 ;Source/Engine/ECS/ECS.c:35: spriteComponent.height[nextPoolSlot] = 0;
    00000382 11rFAr00         [12]  846 	ld	de, #(_spriteComponent + 250)
    00000385 F8 03            [12]  847 	ldhl	sp,	#3
    00000387 6E               [ 8]  848 	ld	l, (hl)
    00000388 26 00            [ 8]  849 	ld	h, #0x00
    0000038A 19               [ 8]  850 	add	hl, de
    0000038B E5               [16]  851 	push	hl
    0000038C 7D               [ 4]  852 	ld	a, l
    0000038D F8 06            [12]  853 	ldhl	sp,	#6
    0000038F 77               [ 8]  854 	ld	(hl), a
    00000390 E1               [12]  855 	pop	hl
    00000391 7C               [ 4]  856 	ld	a, h
    00000392 F8 05            [12]  857 	ldhl	sp,	#5
    00000394 32               [ 8]  858 	ld	(hl-), a
    00000395 2A               [ 8]  859 	ld	a, (hl+)
    00000396 66               [ 8]  860 	ld	h, (hl)
    00000397 6F               [ 4]  861 	ld	l, a
    00000398 36 00            [12]  862 	ld	(hl), #0x00
                                    863 ;Source/Engine/ECS/ECS.c:36: spriteComponent.offset[nextPoolSlot].x = 0;
    0000039A 11r2Cr01         [12]  864 	ld	de, #(_spriteComponent + 300)
    0000039D F8 06            [12]  865 	ldhl	sp,	#6
    0000039F 6E               [ 8]  866 	ld	l, (hl)
    000003A0 26 00            [ 8]  867 	ld	h, #0x00
    000003A2 19               [ 8]  868 	add	hl, de
    000003A3 E5               [16]  869 	push	hl
    000003A4 7D               [ 4]  870 	ld	a, l
    000003A5 F8 03            [12]  871 	ldhl	sp,	#3
    000003A7 77               [ 8]  872 	ld	(hl), a
    000003A8 E1               [12]  873 	pop	hl
    000003A9 7C               [ 4]  874 	ld	a, h
    000003AA F8 02            [12]  875 	ldhl	sp,	#2
    000003AC 32               [ 8]  876 	ld	(hl-), a
    000003AD 2A               [ 8]  877 	ld	a, (hl+)
    000003AE 66               [ 8]  878 	ld	h, (hl)
    000003AF 6F               [ 4]  879 	ld	l, a
    000003B0 36 00            [12]  880 	ld	(hl), #0x00
                                    881 ;Source/Engine/ECS/ECS.c:37: spriteComponent.offset[nextPoolSlot].y = 0;
    000003B2 F8 01            [12]  882 	ldhl	sp,#1
    000003B4 2A               [ 8]  883 	ld	a, (hl+)
    000003B5 5F               [ 4]  884 	ld	e, a
    000003B6 56               [ 8]  885 	ld	d, (hl)
    000003B7 6B               [ 4]  886 	ld	l, e
    000003B8 62               [ 4]  887 	ld	h, d
    000003B9 23               [ 8]  888 	inc	hl
    000003BA E5               [16]  889 	push	hl
    000003BB 7D               [ 4]  890 	ld	a, l
    000003BC F8 07            [12]  891 	ldhl	sp,	#7
    000003BE 77               [ 8]  892 	ld	(hl), a
    000003BF E1               [12]  893 	pop	hl
    000003C0 7C               [ 4]  894 	ld	a, h
    000003C1 F8 06            [12]  895 	ldhl	sp,	#6
    000003C3 32               [ 8]  896 	ld	(hl-), a
    000003C4 2A               [ 8]  897 	ld	a, (hl+)
    000003C5 66               [ 8]  898 	ld	h, (hl)
    000003C6 6F               [ 4]  899 	ld	l, a
    000003C7 36 00            [12]  900 	ld	(hl), #0x00
                                    901 ;Source/Engine/ECS/ECS.c:38: spriteComponent.flags[nextPoolSlot] = 0;
    000003C9 11r90r01         [12]  902 	ld	de, #(_spriteComponent + 400)
    000003CC F8 03            [12]  903 	ldhl	sp,	#3
    000003CE 6E               [ 8]  904 	ld	l, (hl)
    000003CF 26 00            [ 8]  905 	ld	h, #0x00
    000003D1 19               [ 8]  906 	add	hl, de
    000003D2 E5               [16]  907 	push	hl
    000003D3 7D               [ 4]  908 	ld	a, l
    000003D4 F8 07            [12]  909 	ldhl	sp,	#7
    000003D6 77               [ 8]  910 	ld	(hl), a
    000003D7 E1               [12]  911 	pop	hl
    000003D8 7C               [ 4]  912 	ld	a, h
    000003D9 F8 06            [12]  913 	ldhl	sp,	#6
    000003DB 32               [ 8]  914 	ld	(hl-), a
    000003DC 2A               [ 8]  915 	ld	a, (hl+)
    000003DD 66               [ 8]  916 	ld	h, (hl)
    000003DE 6F               [ 4]  917 	ld	l, a
    000003DF 36 00            [12]  918 	ld	(hl), #0x00
                                    919 ;Source/Engine/ECS/ECS.c:39: spriteComponent.palette[nextPoolSlot] = 0;
    000003E1 11rC2r01         [12]  920 	ld	de, #(_spriteComponent + 450)
    000003E4 F8 03            [12]  921 	ldhl	sp,	#3
    000003E6 6E               [ 8]  922 	ld	l, (hl)
    000003E7 26 00            [ 8]  923 	ld	h, #0x00
    000003E9 19               [ 8]  924 	add	hl, de
    000003EA E5               [16]  925 	push	hl
    000003EB 7D               [ 4]  926 	ld	a, l
    000003EC F8 07            [12]  927 	ldhl	sp,	#7
    000003EE 77               [ 8]  928 	ld	(hl), a
    000003EF E1               [12]  929 	pop	hl
    000003F0 7C               [ 4]  930 	ld	a, h
    000003F1 F8 06            [12]  931 	ldhl	sp,	#6
    000003F3 32               [ 8]  932 	ld	(hl-), a
    000003F4 2A               [ 8]  933 	ld	a, (hl+)
    000003F5 66               [ 8]  934 	ld	h, (hl)
    000003F6 6F               [ 4]  935 	ld	l, a
    000003F7 36 00            [12]  936 	ld	(hl), #0x00
                                    937 ;Source/Engine/ECS/ECS.c:46: }
    000003F9                        938 00112$:
                                    939 ;Source/Engine/ECS/ECS.c:47: }
    000003F9 E8 0B            [16]  940 	add	sp, #11
    000003FB C9               [16]  941 	ret
                                    942 ;Source/Engine/ECS/ECS.c:50: void EntityRemoveComponent(Entity *entity, uint16_t component) {
                                    943 ;	---------------------------------
                                    944 ; Function EntityRemoveComponent
                                    945 ; ---------------------------------
    000003FC                        946 _EntityRemoveComponent::
    000003FC E8 FA            [16]  947 	add	sp, #-6
    000003FE F8 04            [12]  948 	ldhl	sp,	#4
    00000400 7B               [ 4]  949 	ld	a, e
    00000401 22               [ 8]  950 	ld	(hl+), a
                                    951 ;Source/Engine/ECS/ECS.c:52: entity->components &= ~component;
    00000402 7A               [ 4]  952 	ld	a, d
    00000403 32               [ 8]  953 	ld	(hl-), a
    00000404 2A               [ 8]  954 	ld	a, (hl+)
    00000405 5F               [ 4]  955 	ld	e, a
    00000406 56               [ 8]  956 	ld	d, (hl)
    00000407 6B               [ 4]  957 	ld	l, e
    00000408 62               [ 4]  958 	ld	h, d
    00000409 23               [ 8]  959 	inc	hl
    0000040A 33               [ 8]  960 	inc	sp
    0000040B 33               [ 8]  961 	inc	sp
    0000040C 5D               [ 4]  962 	ld	e, l
    0000040D 54               [ 4]  963 	ld	d, h
    0000040E D5               [16]  964 	push	de
    0000040F 1A               [ 8]  965 	ld	a, (de)
    00000410 6F               [ 4]  966 	ld	l, a
    00000411 13               [ 8]  967 	inc	de
    00000412 1A               [ 8]  968 	ld	a, (de)
    00000413 67               [ 4]  969 	ld	h, a
    00000414 79               [ 4]  970 	ld	a, c
    00000415 2F               [ 4]  971 	cpl
    00000416 5F               [ 4]  972 	ld	e, a
    00000417 78               [ 4]  973 	ld	a, b
    00000418 2F               [ 4]  974 	cpl
    00000419 57               [ 4]  975 	ld	d, a
    0000041A 7D               [ 4]  976 	ld	a, l
    0000041B A3               [ 4]  977 	and	a, e
    0000041C E5               [16]  978 	push	hl
    0000041D F8 04            [12]  979 	ldhl	sp,	#4
    0000041F 77               [ 8]  980 	ld	(hl), a
    00000420 E1               [12]  981 	pop	hl
    00000421 7C               [ 4]  982 	ld	a, h
    00000422 A2               [ 4]  983 	and	a, d
    00000423 F8 03            [12]  984 	ldhl	sp,	#3
    00000425 77               [ 8]  985 	ld	(hl), a
    00000426 D1               [12]  986 	pop	de
    00000427 D5               [16]  987 	push	de
    00000428 F8 02            [12]  988 	ldhl	sp,	#2
    0000042A 2A               [ 8]  989 	ld	a, (hl+)
    0000042B 12               [ 8]  990 	ld	(de), a
    0000042C 13               [ 8]  991 	inc	de
                                    992 ;Source/Engine/ECS/ECS.c:58: if (transformComponent.entityID[i] == entity -> ID)  {
    0000042D 2A               [ 8]  993 	ld	a, (hl+)
    0000042E 12               [ 8]  994 	ld	(de), a
    0000042F 2A               [ 8]  995 	ld	a, (hl+)
    00000430 5F               [ 4]  996 	ld	e, a
    00000431 56               [ 8]  997 	ld	d, (hl)
                                    998 ;Source/Engine/ECS/ECS.c:55: switch (component) {
    00000432 79               [ 4]  999 	ld	a, c
    00000433 3D               [ 4] 1000 	dec	a
    00000434 B0               [ 4] 1001 	or	a, b
    00000435 28 09            [12] 1002 	jr	Z, 00101$
    00000437 79               [ 4] 1003 	ld	a, c
    00000438 D6 02            [ 8] 1004 	sub	a, #0x02
    0000043A B0               [ 4] 1005 	or	a, b
    0000043B 28 43            [12] 1006 	jr	Z, 00105$
    0000043D C3rDFr04         [16] 1007 	jp	00116$
                                   1008 ;Source/Engine/ECS/ECS.c:56: case TRANSFORM_COMPONENT:
    00000440                       1009 00101$:
                                   1010 ;Source/Engine/ECS/ECS.c:57: for (i = 0; i < TRANSFORM_POOL_SIZE; i++) {
    00000440 F8 03            [12] 1011 	ldhl	sp,	#3
    00000442 36 00            [12] 1012 	ld	(hl), #0x00
    00000444 0E 00            [ 8] 1013 	ld	c, #0x00
    00000446                       1014 00112$:
                                   1015 ;Source/Engine/ECS/ECS.c:58: if (transformComponent.entityID[i] == entity -> ID)  {
    00000446 21r00r00         [12] 1016 	ld	hl, #_transformComponent
    00000449 06 00            [ 8] 1017 	ld	b, #0x00
    0000044B 09               [ 8] 1018 	add	hl, bc
    0000044C 1A               [ 8] 1019 	ld	a, (de)
    0000044D 46               [ 8] 1020 	ld	b, (hl)
    0000044E 90               [ 4] 1021 	sub	a, b
    0000044F 20 24            [12] 1022 	jr	NZ, 00113$
                                   1023 ;Source/Engine/ECS/ECS.c:59: vec2_set(&transformComponent.position[i], 0, 0);
    00000451 01r64r00         [12] 1024 	ld	bc, #_transformComponent + 100
    00000454 F8 03            [12] 1025 	ldhl	sp,	#3
    00000456 5E               [ 8] 1026 	ld	e, (hl)
    00000457 16 00            [ 8] 1027 	ld	d, #0x00
    00000459 6B               [ 4] 1028 	ld	l, e
    0000045A 62               [ 4] 1029 	ld	h, d
    0000045B 29               [ 8] 1030 	add	hl, hl
    0000045C 29               [ 8] 1031 	add	hl, hl
    0000045D 09               [ 8] 1032 	add	hl, bc
                                   1033 ;Source/Engine/ECS/../Libraries/vec2.h:33: v->x = F12(x);
    0000045E AF               [ 4] 1034 	xor	a, a
    0000045F 22               [ 8] 1035 	ld	(hl+), a
    00000460 32               [ 8] 1036 	ld	(hl-), a
                                   1037 ;Source/Engine/ECS/../Libraries/vec2.h:34: v->y = F12(y);
    00000461 23               [ 8] 1038 	inc	hl
    00000462 23               [ 8] 1039 	inc	hl
    00000463 AF               [ 4] 1040 	xor	a, a
    00000464 22               [ 8] 1041 	ld	(hl+), a
    00000465 77               [ 8] 1042 	ld	(hl), a
                                   1043 ;Source/Engine/ECS/ECS.c:60: transformComponent.entityID[i] = 0;
    00000466 11r00r00         [12] 1044 	ld	de, #_transformComponent
    00000469 F8 03            [12] 1045 	ldhl	sp,	#3
    0000046B 6E               [ 8] 1046 	ld	l, (hl)
    0000046C 26 00            [ 8] 1047 	ld	h, #0x00
    0000046E 19               [ 8] 1048 	add	hl, de
    0000046F 4D               [ 4] 1049 	ld	c, l
    00000470 44               [ 4] 1050 	ld	b, h
    00000471 AF               [ 4] 1051 	xor	a, a
    00000472 02               [ 8] 1052 	ld	(bc), a
                                   1053 ;Source/Engine/ECS/ECS.c:61: return;
    00000473 18 6A            [12] 1054 	jr	00116$
    00000475                       1055 00113$:
                                   1056 ;Source/Engine/ECS/ECS.c:57: for (i = 0; i < TRANSFORM_POOL_SIZE; i++) {
    00000475 0C               [ 4] 1057 	inc	c
    00000476 F8 03            [12] 1058 	ldhl	sp,	#3
    00000478 79               [ 4] 1059 	ld	a,c
    00000479 77               [ 8] 1060 	ld	(hl),a
    0000047A D6 64            [ 8] 1061 	sub	a, #0x64
    0000047C 38 C8            [12] 1062 	jr	C, 00112$
                                   1063 ;Source/Engine/ECS/ECS.c:64: break;
    0000047E 18 5F            [12] 1064 	jr	00116$
                                   1065 ;Source/Engine/ECS/ECS.c:65: case SPRITE_COMPONENT:
    00000480                       1066 00105$:
                                   1067 ;Source/Engine/ECS/ECS.c:66: for (i = 0; i < SPRITE_POOL_SIZE; i++) {
    00000480 01 00 00         [12] 1068 	ld	bc, #0x0
    00000483                       1069 00114$:
                                   1070 ;Source/Engine/ECS/ECS.c:67: if (spriteComponent.entityID[i] == entity -> ID)  {
    00000483 3Er00            [ 8] 1071 	ld	a, #<(_spriteComponent)
    00000485 80               [ 4] 1072 	add	a, b
    00000486 6F               [ 4] 1073 	ld	l, a
    00000487 3Es00            [ 8] 1074 	ld	a, #>(_spriteComponent)
    00000489 CE 00            [ 8] 1075 	adc	a, #0x00
    0000048B 67               [ 4] 1076 	ld	h, a
    0000048C 1A               [ 8] 1077 	ld	a, (de)
    0000048D 6E               [ 8] 1078 	ld	l, (hl)
    0000048E 95               [ 4] 1079 	sub	a, l
    0000048F 20 47            [12] 1080 	jr	NZ, 00115$
                                   1081 ;Source/Engine/ECS/ECS.c:68: spriteComponent.entityID[i] = 0;
    00000491 21r00r00         [12] 1082 	ld	hl, #_spriteComponent
    00000494 06 00            [ 8] 1083 	ld	b, #0x00
    00000496 09               [ 8] 1084 	add	hl, bc
    00000497 36 00            [12] 1085 	ld	(hl), #0x00
                                   1086 ;Source/Engine/ECS/ECS.c:69: spriteComponent.tileData[i] = 0;
    00000499 21r32r00         [12] 1087 	ld	hl, #_spriteComponent + 50
    0000049C 79               [ 4] 1088 	ld	a, c
    0000049D 87               [ 4] 1089 	add	a, a
    0000049E 5F               [ 4] 1090 	ld	e, a
    0000049F 16 00            [ 8] 1091 	ld	d, #0x00
    000004A1 19               [ 8] 1092 	add	hl, de
    000004A2 AF               [ 4] 1093 	xor	a, a
    000004A3 22               [ 8] 1094 	ld	(hl+), a
    000004A4 77               [ 8] 1095 	ld	(hl), a
                                   1096 ;Source/Engine/ECS/ECS.c:70: spriteComponent.tileIndex[i] = 0;
    000004A5 21r96r00         [12] 1097 	ld	hl, #_spriteComponent + 150
    000004A8 06 00            [ 8] 1098 	ld	b, #0x00
    000004AA 09               [ 8] 1099 	add	hl, bc
    000004AB 36 00            [12] 1100 	ld	(hl), #0x00
                                   1101 ;Source/Engine/ECS/ECS.c:71: spriteComponent.width[i] = 0;
    000004AD 21rC8r00         [12] 1102 	ld	hl, #_spriteComponent + 200
    000004B0 06 00            [ 8] 1103 	ld	b, #0x00
    000004B2 09               [ 8] 1104 	add	hl, bc
    000004B3 36 00            [12] 1105 	ld	(hl), #0x00
                                   1106 ;Source/Engine/ECS/ECS.c:72: spriteComponent.height[i] = 0;
    000004B5 21rFAr00         [12] 1107 	ld	hl, #_spriteComponent + 250
    000004B8 06 00            [ 8] 1108 	ld	b, #0x00
    000004BA 09               [ 8] 1109 	add	hl, bc
    000004BB 36 00            [12] 1110 	ld	(hl), #0x00
                                   1111 ;Source/Engine/ECS/ECS.c:73: spriteComponent.offset[i].x = 0;
    000004BD 21r2Cr01         [12] 1112 	ld	hl, #_spriteComponent + 300
    000004C0 16 00            [ 8] 1113 	ld	d, #0x00
    000004C2 19               [ 8] 1114 	add	hl, de
                                   1115 ;Source/Engine/ECS/ECS.c:74: spriteComponent.offset[i].y = 0;
    000004C3 AF               [ 4] 1116 	xor	a, a
    000004C4 22               [ 8] 1117 	ld	(hl+), a
    000004C5 77               [ 8] 1118 	ld	(hl), a
                                   1119 ;Source/Engine/ECS/ECS.c:75: spriteComponent.flags[i] = 0;
    000004C6 21r90r01         [12] 1120 	ld	hl, #(_spriteComponent + 400)
    000004C9 06 00            [ 8] 1121 	ld	b, #0x00
    000004CB 09               [ 8] 1122 	add	hl, bc
    000004CC 36 00            [12] 1123 	ld	(hl), #0x00
                                   1124 ;Source/Engine/ECS/ECS.c:76: spriteComponent.palette[i] = 0;
    000004CE 21rC2r01         [12] 1125 	ld	hl, #(_spriteComponent + 450)
    000004D1 06 00            [ 8] 1126 	ld	b, #0x00
    000004D3 09               [ 8] 1127 	add	hl, bc
    000004D4 36 00            [12] 1128 	ld	(hl), #0x00
                                   1129 ;Source/Engine/ECS/ECS.c:77: return;
    000004D6 18 07            [12] 1130 	jr	00116$
    000004D8                       1131 00115$:
                                   1132 ;Source/Engine/ECS/ECS.c:66: for (i = 0; i < SPRITE_POOL_SIZE; i++) {
    000004D8 04               [ 4] 1133 	inc	b
    000004D9 48               [ 4] 1134 	ld	c, b
    000004DA 78               [ 4] 1135 	ld	a, b
    000004DB D6 32            [ 8] 1136 	sub	a, #0x32
    000004DD 38 A4            [12] 1137 	jr	C, 00114$
                                   1138 ;Source/Engine/ECS/ECS.c:85: }
    000004DF                       1139 00116$:
                                   1140 ;Source/Engine/ECS/ECS.c:86: }
    000004DF E8 06            [16] 1141 	add	sp, #6
    000004E1 C9               [16] 1142 	ret
                                   1143 ;Source/Engine/ECS/ECS.c:89: bool EntityHasComponent(const Entity *entity, uint16_t component) {
                                   1144 ;	---------------------------------
                                   1145 ; Function EntityHasComponent
                                   1146 ; ---------------------------------
    000004E2                       1147 _EntityHasComponent::
                                   1148 ;Source/Engine/ECS/ECS.c:90: return (entity->components & component) != 0;
    000004E2 6B               [ 4] 1149 	ld	l, e
    000004E3 62               [ 4] 1150 	ld	h, d
    000004E4 23               [ 8] 1151 	inc	hl
    000004E5 2A               [ 8] 1152 	ld	a, (hl+)
    000004E6 6E               [ 8] 1153 	ld	l, (hl)
    000004E7 A1               [ 4] 1154 	and	a, c
    000004E8 4F               [ 4] 1155 	ld	c, a
    000004E9 7D               [ 4] 1156 	ld	a, l
    000004EA A0               [ 4] 1157 	and	a, b
    000004EB B1               [ 4] 1158 	or	a, c
    000004EC D6 01            [ 8] 1159 	sub	a, #0x01
    000004EE 3E 00            [ 8] 1160 	ld	a, #0x00
    000004F0 17               [ 4] 1161 	rla
    000004F1 EE 01            [ 8] 1162 	xor	a, #0x01
                                   1163 ;Source/Engine/ECS/ECS.c:91: }
    000004F3 C9               [16] 1164 	ret
                                   1165 ;Source/Engine/ECS/ECS.c:93: uint8_t GetNextAvailableComponentPoolSlot(uint8_t *poolPointer, uint8_t poolSize) {
                                   1166 ;	---------------------------------
                                   1167 ; Function GetNextAvailableComponentPoolSlot
                                   1168 ; ---------------------------------
    000004F4                       1169 _GetNextAvailableComponentPoolSlot::
    000004F4 3B               [ 8] 1170 	dec	sp
    000004F5 4F               [ 4] 1171 	ld	c, a
                                   1172 ;Source/Engine/ECS/ECS.c:95: for (i = 0; i < poolSize; i++) {
    000004F6 F8 00            [12] 1173 	ldhl	sp,	#0
    000004F8 36 00            [12] 1174 	ld	(hl), #0x00
    000004FA 06 00            [ 8] 1175 	ld	b, #0x00
    000004FC                       1176 00105$:
    000004FC 78               [ 4] 1177 	ld	a, b
    000004FD 91               [ 4] 1178 	sub	a, c
    000004FE 30 13            [12] 1179 	jr	NC, 00103$
                                   1180 ;Source/Engine/ECS/ECS.c:96: if (poolPointer[i] == 0) {
    00000500 68               [ 4] 1181 	ld	l, b
    00000501 26 00            [ 8] 1182 	ld	h, #0x00
    00000503 19               [ 8] 1183 	add	hl, de
    00000504 7E               [ 8] 1184 	ld	a, (hl)
    00000505 B7               [ 4] 1185 	or	a, a
    00000506 20 05            [12] 1186 	jr	NZ, 00106$
                                   1187 ;Source/Engine/ECS/ECS.c:97: return i;
    00000508 F8 00            [12] 1188 	ldhl	sp,	#0
    0000050A 7E               [ 8] 1189 	ld	a, (hl)
    0000050B 18 08            [12] 1190 	jr	00107$
    0000050D                       1191 00106$:
                                   1192 ;Source/Engine/ECS/ECS.c:95: for (i = 0; i < poolSize; i++) {
    0000050D 04               [ 4] 1193 	inc	b
    0000050E F8 00            [12] 1194 	ldhl	sp,	#0
    00000510 70               [ 8] 1195 	ld	(hl), b
    00000511 18 E9            [12] 1196 	jr	00105$
    00000513                       1197 00103$:
                                   1198 ;Source/Engine/ECS/ECS.c:100: return 255;
    00000513 3E FF            [ 8] 1199 	ld	a, #0xff
    00000515                       1200 00107$:
                                   1201 ;Source/Engine/ECS/ECS.c:101: }
    00000515 33               [ 8] 1202 	inc	sp
    00000516 C9               [16] 1203 	ret
                                   1204 ;Source/Engine/ECS/ECS.c:103: Entity* getEntityById (uint8_t id) {
                                   1205 ;	---------------------------------
                                   1206 ; Function getEntityById
                                   1207 ; ---------------------------------
    00000517                       1208 _getEntityById::
    00000517 3B               [ 8] 1209 	dec	sp
    00000518 F8 00            [12] 1210 	ldhl	sp,	#0
    0000051A 77               [ 8] 1211 	ld	(hl), a
                                   1212 ;Source/Engine/ECS/ECS.c:104: for (int i = 0; i < MAX_ENTITIES; i++) {
    0000051B 01 00 00         [12] 1213 	ld	bc, #0x0000
    0000051E                       1214 00105$:
    0000051E 79               [ 4] 1215 	ld	a, c
    0000051F D6 64            [ 8] 1216 	sub	a, #0x64
    00000521 30 19            [12] 1217 	jr	NC, 00103$
                                   1218 ;Source/Engine/ECS/ECS.c:105: if (entity[i].ID == id) {
    00000523 69               [ 4] 1219 	ld	l, c
    00000524 60               [ 4] 1220 	ld	h, b
    00000525 29               [ 8] 1221 	add	hl, hl
    00000526 09               [ 8] 1222 	add	hl, bc
    00000527 7D               [ 4] 1223 	ld	a, l
    00000528 C6r00            [ 8] 1224 	add	a, #<(_entity)
    0000052A 5F               [ 4] 1225 	ld	e, a
    0000052B 7C               [ 4] 1226 	ld	a, h
    0000052C CEs00            [ 8] 1227 	adc	a, #>(_entity)
    0000052E 57               [ 4] 1228 	ld	d, a
    0000052F 1A               [ 8] 1229 	ld	a, (de)
    00000530 F8 00            [12] 1230 	ldhl	sp,	#0
    00000532 96               [ 8] 1231 	sub	a, (hl)
    00000533 20 04            [12] 1232 	jr	NZ, 00106$
                                   1233 ;Source/Engine/ECS/ECS.c:106: return &entity[i];
    00000535 4B               [ 4] 1234 	ld	c, e
    00000536 42               [ 4] 1235 	ld	b, d
    00000537 18 06            [12] 1236 	jr	00107$
    00000539                       1237 00106$:
                                   1238 ;Source/Engine/ECS/ECS.c:104: for (int i = 0; i < MAX_ENTITIES; i++) {
    00000539 03               [ 8] 1239 	inc	bc
    0000053A 18 E2            [12] 1240 	jr	00105$
    0000053C                       1241 00103$:
                                   1242 ;Source/Engine/ECS/ECS.c:109: return 0;
    0000053C 01 00 00         [12] 1243 	ld	bc, #0x0000
    0000053F                       1244 00107$:
                                   1245 ;Source/Engine/ECS/ECS.c:110: }
    0000053F 33               [ 8] 1246 	inc	sp
    00000540 C9               [16] 1247 	ret
                                   1248 	.area _CODE
                                   1249 	.area _INITIALIZER
                                   1250 	.area _CABS (ABS)
