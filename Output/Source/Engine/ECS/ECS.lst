                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module ECS
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _EntityAddComponent
                                     11 	.globl _EntityRemoveComponent
                                     12 	.globl _EntityHasComponent
                                     13 	.globl _GetNextAvailableComponentPoolSlot
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 ;--------------------------------------------------------
                                     18 ; ram data
                                     19 ;--------------------------------------------------------
                                     20 	.area _DATA
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _INITIALIZED
                                     25 ;--------------------------------------------------------
                                     26 ; absolute external ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _DABS (ABS)
                                     29 ;--------------------------------------------------------
                                     30 ; global & static initialisations
                                     31 ;--------------------------------------------------------
                                     32 	.area _HOME
                                     33 	.area _GSINIT
                                     34 	.area _GSFINAL
                                     35 	.area _GSINIT
                                     36 ;--------------------------------------------------------
                                     37 ; Home
                                     38 ;--------------------------------------------------------
                                     39 	.area _HOME
                                     40 	.area _HOME
                                     41 ;--------------------------------------------------------
                                     42 ; code
                                     43 ;--------------------------------------------------------
                                     44 	.area _CODE
                                     45 ;Source/Engine/ECS/../Libraries/vec2.h:32: static inline void vec2_set(vec2 *v, int x, int y) {
                                     46 ;	---------------------------------
                                     47 ; Function vec2_set
                                     48 ; ---------------------------------
    00000000                         49 _vec2_set:
    00000000 69               [ 4]   50 	ld	l, c
    00000001 60               [ 4]   51 	ld	h, b
                                     52 ;Source/Engine/ECS/../Libraries/vec2.h:33: v->x = F12(x);
    00000002 4B               [ 4]   53 	ld	c, e
    00000003 42               [ 4]   54 	ld	b, d
    00000004 29               [ 8]   55 	add	hl, hl
    00000005 29               [ 8]   56 	add	hl, hl
    00000006 29               [ 8]   57 	add	hl, hl
    00000007 29               [ 8]   58 	add	hl, hl
    00000008 7D               [ 4]   59 	ld	a, l
    00000009 02               [ 8]   60 	ld	(bc), a
    0000000A 03               [ 8]   61 	inc	bc
    0000000B 7C               [ 4]   62 	ld	a, h
    0000000C 02               [ 8]   63 	ld	(bc), a
                                     64 ;Source/Engine/ECS/../Libraries/vec2.h:34: v->y = F12(y);
    0000000D 13               [ 8]   65 	inc	de
    0000000E 13               [ 8]   66 	inc	de
    0000000F F8 02            [12]   67 	ldhl	sp,	#2
    00000011 2A               [ 8]   68 	ld	a, (hl+)
    00000012 46               [ 8]   69 	ld	b, (hl)
    00000013 87               [ 4]   70 	add	a, a
    00000014 CB 10            [ 8]   71 	rl	b
    00000016 87               [ 4]   72 	add	a, a
    00000017 CB 10            [ 8]   73 	rl	b
    00000019 87               [ 4]   74 	add	a, a
    0000001A CB 10            [ 8]   75 	rl	b
    0000001C 87               [ 4]   76 	add	a, a
    0000001D CB 10            [ 8]   77 	rl	b
    0000001F 4F               [ 4]   78 	ld	c, a
    00000020 12               [ 8]   79 	ld	(de), a
    00000021 13               [ 8]   80 	inc	de
    00000022 78               [ 4]   81 	ld	a, b
    00000023 12               [ 8]   82 	ld	(de), a
                                     83 ;Source/Engine/ECS/../Libraries/vec2.h:35: }
    00000024 E1               [12]   84 	pop	hl
    00000025 F1               [12]   85 	pop	af
    00000026 E9               [ 4]   86 	jp	(hl)
                                     87 ;Source/Engine/ECS/../Libraries/vec2.h:38: static inline void vec2_add(vec2 *a, const vec2 *b) {
                                     88 ;	---------------------------------
                                     89 ; Function vec2_add
                                     90 ; ---------------------------------
    00000027                         91 _vec2_add:
    00000027 E8 F8            [16]   92 	add	sp, #-8
    00000029 F8 06            [12]   93 	ldhl	sp,	#6
    0000002B 7B               [ 4]   94 	ld	a, e
    0000002C 22               [ 8]   95 	ld	(hl+), a
    0000002D 72               [ 8]   96 	ld	(hl), d
    0000002E F8 04            [12]   97 	ldhl	sp,	#4
    00000030 79               [ 4]   98 	ld	a, c
    00000031 22               [ 8]   99 	ld	(hl+), a
                                    100 ;Source/Engine/ECS/../Libraries/vec2.h:39: a->x += b->x;
    00000032 78               [ 4]  101 	ld	a, b
    00000033 22               [ 8]  102 	ld	(hl+), a
    00000034 7E               [ 8]  103 	ld	a, (hl)
    00000035 F8 02            [12]  104 	ldhl	sp,	#2
    00000037 77               [ 8]  105 	ld	(hl), a
    00000038 F8 07            [12]  106 	ldhl	sp,	#7
    0000003A 7E               [ 8]  107 	ld	a, (hl)
    0000003B F8 03            [12]  108 	ldhl	sp,	#3
    0000003D 32               [ 8]  109 	ld	(hl-), a
    0000003E 2A               [ 8]  110 	ld	a, (hl+)
    0000003F 5F               [ 4]  111 	ld	e, a
    00000040 2A               [ 8]  112 	ld	a, (hl+)
    00000041 57               [ 4]  113 	ld	d, a
    00000042 1A               [ 8]  114 	ld	a, (de)
    00000043 4F               [ 4]  115 	ld	c, a
    00000044 13               [ 8]  116 	inc	de
    00000045 1A               [ 8]  117 	ld	a, (de)
    00000046 47               [ 4]  118 	ld	b, a
    00000047 2A               [ 8]  119 	ld	a, (hl+)
    00000048 5F               [ 4]  120 	ld	e, a
    00000049 56               [ 8]  121 	ld	d, (hl)
    0000004A 1A               [ 8]  122 	ld	a, (de)
    0000004B 6F               [ 4]  123 	ld	l, a
    0000004C 13               [ 8]  124 	inc	de
    0000004D 1A               [ 8]  125 	ld	a, (de)
    0000004E 67               [ 4]  126 	ld	h, a
    0000004F 09               [ 8]  127 	add	hl, bc
    00000050 4D               [ 4]  128 	ld	c, l
    00000051 44               [ 4]  129 	ld	b, h
    00000052 F8 02            [12]  130 	ldhl	sp,	#2
    00000054 2A               [ 8]  131 	ld	a, (hl+)
    00000055 66               [ 8]  132 	ld	h, (hl)
    00000056 6F               [ 4]  133 	ld	l, a
    00000057 79               [ 4]  134 	ld	a, c
    00000058 22               [ 8]  135 	ld	(hl+), a
    00000059 70               [ 8]  136 	ld	(hl), b
                                    137 ;Source/Engine/ECS/../Libraries/vec2.h:40: a->y += b->y;
    0000005A F8 06            [12]  138 	ldhl	sp,	#6
    0000005C 2A               [ 8]  139 	ld	a, (hl+)
    0000005D 4F               [ 4]  140 	ld	c, a
    0000005E 46               [ 8]  141 	ld	b, (hl)
    0000005F 03               [ 8]  142 	inc	bc
    00000060 03               [ 8]  143 	inc	bc
    00000061 59               [ 4]  144 	ld	e, c
    00000062 50               [ 4]  145 	ld	d, b
    00000063 1A               [ 8]  146 	ld	a, (de)
    00000064 F8 00            [12]  147 	ldhl	sp,	#0
    00000066 22               [ 8]  148 	ld	(hl+), a
    00000067 13               [ 8]  149 	inc	de
    00000068 1A               [ 8]  150 	ld	a, (de)
    00000069 77               [ 8]  151 	ld	(hl), a
    0000006A F8 04            [12]  152 	ldhl	sp,	#4
    0000006C 2A               [ 8]  153 	ld	a, (hl+)
    0000006D 66               [ 8]  154 	ld	h, (hl)
    0000006E 6F               [ 4]  155 	ld	l, a
    0000006F 23               [ 8]  156 	inc	hl
    00000070 23               [ 8]  157 	inc	hl
    00000071 5D               [ 4]  158 	ld	e, l
    00000072 54               [ 4]  159 	ld	d, h
    00000073 1A               [ 8]  160 	ld	a, (de)
    00000074 F8 02            [12]  161 	ldhl	sp,	#2
    00000076 22               [ 8]  162 	ld	(hl+), a
    00000077 13               [ 8]  163 	inc	de
    00000078 1A               [ 8]  164 	ld	a, (de)
    00000079 77               [ 8]  165 	ld	(hl), a
    0000007A F8 02            [12]  166 	ldhl	sp,#2
    0000007C 2A               [ 8]  167 	ld	a, (hl+)
    0000007D 5F               [ 4]  168 	ld	e, a
    0000007E 56               [ 8]  169 	ld	d, (hl)
    0000007F E1               [12]  170 	pop	hl
    00000080 E5               [16]  171 	push	hl
    00000081 19               [ 8]  172 	add	hl, de
    00000082 5D               [ 4]  173 	ld	e, l
    00000083 54               [ 4]  174 	ld	d, h
    00000084 7B               [ 4]  175 	ld	a, e
    00000085 02               [ 8]  176 	ld	(bc), a
    00000086 03               [ 8]  177 	inc	bc
    00000087 7A               [ 4]  178 	ld	a, d
    00000088 02               [ 8]  179 	ld	(bc), a
                                    180 ;Source/Engine/ECS/../Libraries/vec2.h:41: }
    00000089 E8 08            [16]  181 	add	sp, #8
    0000008B C9               [16]  182 	ret
                                    183 ;Source/Engine/ECS/../Libraries/vec2.h:44: static inline void vec2_sub(vec2 *a, const vec2 *b) {
                                    184 ;	---------------------------------
                                    185 ; Function vec2_sub
                                    186 ; ---------------------------------
    0000008C                        187 _vec2_sub:
    0000008C E8 FA            [16]  188 	add	sp, #-6
    0000008E F8 04            [12]  189 	ldhl	sp,	#4
    00000090 7B               [ 4]  190 	ld	a, e
    00000091 22               [ 8]  191 	ld	(hl+), a
    00000092 72               [ 8]  192 	ld	(hl), d
    00000093 F8 02            [12]  193 	ldhl	sp,	#2
    00000095 79               [ 4]  194 	ld	a, c
    00000096 22               [ 8]  195 	ld	(hl+), a
                                    196 ;Source/Engine/ECS/../Libraries/vec2.h:45: a->x -= b->x;
    00000097 78               [ 4]  197 	ld	a, b
    00000098 22               [ 8]  198 	ld	(hl+), a
    00000099 7E               [ 8]  199 	ld	a, (hl)
    0000009A F8 00            [12]  200 	ldhl	sp,	#0
    0000009C 77               [ 8]  201 	ld	(hl), a
    0000009D F8 05            [12]  202 	ldhl	sp,	#5
    0000009F 7E               [ 8]  203 	ld	a, (hl)
    000000A0 F8 01            [12]  204 	ldhl	sp,	#1
    000000A2 22               [ 8]  205 	ld	(hl+), a
    000000A3 D1               [12]  206 	pop	de
    000000A4 D5               [16]  207 	push	de
    000000A5 1A               [ 8]  208 	ld	a, (de)
    000000A6 4F               [ 4]  209 	ld	c, a
    000000A7 13               [ 8]  210 	inc	de
    000000A8 1A               [ 8]  211 	ld	a, (de)
    000000A9 47               [ 4]  212 	ld	b, a
    000000AA 2A               [ 8]  213 	ld	a, (hl+)
    000000AB 5F               [ 4]  214 	ld	e, a
    000000AC 56               [ 8]  215 	ld	d, (hl)
    000000AD 1A               [ 8]  216 	ld	a, (de)
    000000AE 6F               [ 4]  217 	ld	l, a
    000000AF 13               [ 8]  218 	inc	de
    000000B0 1A               [ 8]  219 	ld	a, (de)
    000000B1 67               [ 4]  220 	ld	h, a
    000000B2 79               [ 4]  221 	ld	a, c
    000000B3 95               [ 4]  222 	sub	a, l
    000000B4 4F               [ 4]  223 	ld	c, a
    000000B5 78               [ 4]  224 	ld	a, b
    000000B6 9C               [ 4]  225 	sbc	a, h
    000000B7 47               [ 4]  226 	ld	b, a
    000000B8 E1               [12]  227 	pop	hl
    000000B9 E5               [16]  228 	push	hl
    000000BA 79               [ 4]  229 	ld	a, c
    000000BB 22               [ 8]  230 	ld	(hl+), a
    000000BC 70               [ 8]  231 	ld	(hl), b
                                    232 ;Source/Engine/ECS/../Libraries/vec2.h:46: a->y -= b->y;
    000000BD F8 04            [12]  233 	ldhl	sp,#4
    000000BF 2A               [ 8]  234 	ld	a, (hl+)
    000000C0 5F               [ 4]  235 	ld	e, a
    000000C1 56               [ 8]  236 	ld	d, (hl)
    000000C2 21 02 00         [12]  237 	ld	hl, #0x0002
    000000C5 19               [ 8]  238 	add	hl, de
    000000C6 33               [ 8]  239 	inc	sp
    000000C7 33               [ 8]  240 	inc	sp
    000000C8 5D               [ 4]  241 	ld	e, l
    000000C9 54               [ 4]  242 	ld	d, h
    000000CA D5               [16]  243 	push	de
    000000CB 1A               [ 8]  244 	ld	a, (de)
    000000CC 4F               [ 4]  245 	ld	c, a
    000000CD 13               [ 8]  246 	inc	de
    000000CE 1A               [ 8]  247 	ld	a, (de)
    000000CF 47               [ 4]  248 	ld	b, a
    000000D0 F8 02            [12]  249 	ldhl	sp,	#2
    000000D2 2A               [ 8]  250 	ld	a, (hl+)
    000000D3 66               [ 8]  251 	ld	h, (hl)
    000000D4 6F               [ 4]  252 	ld	l, a
    000000D5 23               [ 8]  253 	inc	hl
    000000D6 23               [ 8]  254 	inc	hl
    000000D7 2A               [ 8]  255 	ld	a,	(hl+)
    000000D8 66               [ 8]  256 	ld	h, (hl)
    000000D9 6F               [ 4]  257 	ld	l, a
    000000DA 79               [ 4]  258 	ld	a, c
    000000DB 95               [ 4]  259 	sub	a, l
    000000DC 4F               [ 4]  260 	ld	c, a
    000000DD 78               [ 4]  261 	ld	a, b
    000000DE 9C               [ 4]  262 	sbc	a, h
    000000DF 47               [ 4]  263 	ld	b, a
    000000E0 E1               [12]  264 	pop	hl
    000000E1 E5               [16]  265 	push	hl
    000000E2 79               [ 4]  266 	ld	a, c
    000000E3 22               [ 8]  267 	ld	(hl+), a
    000000E4 70               [ 8]  268 	ld	(hl), b
                                    269 ;Source/Engine/ECS/../Libraries/vec2.h:47: }
    000000E5 E8 06            [16]  270 	add	sp, #6
    000000E7 C9               [16]  271 	ret
                                    272 ;Source/Engine/ECS/../Libraries/vec2.h:50: static inline void vec2_scale(vec2 *a, f12 s) {
                                    273 ;	---------------------------------
                                    274 ; Function vec2_scale
                                    275 ; ---------------------------------
    000000E8                        276 _vec2_scale:
    000000E8 E8 F2            [16]  277 	add	sp, #-14
    000000EA F8 0C            [12]  278 	ldhl	sp,	#12
    000000EC 7B               [ 4]  279 	ld	a, e
    000000ED 22               [ 8]  280 	ld	(hl+), a
    000000EE 72               [ 8]  281 	ld	(hl), d
    000000EF F8 0A            [12]  282 	ldhl	sp,	#10
    000000F1 79               [ 4]  283 	ld	a, c
    000000F2 22               [ 8]  284 	ld	(hl+), a
                                    285 ;Source/Engine/ECS/../Libraries/vec2.h:52: a->x = ((int32_t)a->x * s) >> 4;
    000000F3 78               [ 4]  286 	ld	a, b
    000000F4 22               [ 8]  287 	ld	(hl+), a
    000000F5 7E               [ 8]  288 	ld	a, (hl)
    000000F6 F8 00            [12]  289 	ldhl	sp,	#0
    000000F8 77               [ 8]  290 	ld	(hl), a
    000000F9 F8 0D            [12]  291 	ldhl	sp,	#13
    000000FB 7E               [ 8]  292 	ld	a, (hl)
    000000FC F8 01            [12]  293 	ldhl	sp,	#1
    000000FE 22               [ 8]  294 	ld	(hl+), a
    000000FF D1               [12]  295 	pop	de
    00000100 D5               [16]  296 	push	de
    00000101 1A               [ 8]  297 	ld	a, (de)
    00000102 4F               [ 4]  298 	ld	c, a
    00000103 13               [ 8]  299 	inc	de
    00000104 1A               [ 8]  300 	ld	a, (de)
    00000105 71               [ 8]  301 	ld	(hl), c
    00000106 23               [ 8]  302 	inc	hl
    00000107 22               [ 8]  303 	ld	(hl+), a
    00000108 07               [ 4]  304 	rlca
    00000109 9F               [ 4]  305 	sbc	a, a
    0000010A 22               [ 8]  306 	ld	(hl+), a
    0000010B 77               [ 8]  307 	ld	(hl), a
    0000010C F8 0A            [12]  308 	ldhl	sp,	#10
    0000010E 7E               [ 8]  309 	ld	a, (hl)
    0000010F F8 06            [12]  310 	ldhl	sp,	#6
    00000111 77               [ 8]  311 	ld	(hl), a
    00000112 F8 0B            [12]  312 	ldhl	sp,	#11
    00000114 7E               [ 8]  313 	ld	a, (hl)
    00000115 F8 07            [12]  314 	ldhl	sp,	#7
    00000117 22               [ 8]  315 	ld	(hl+), a
    00000118 07               [ 4]  316 	rlca
    00000119 9F               [ 4]  317 	sbc	a, a
    0000011A 22               [ 8]  318 	ld	(hl+), a
    0000011B 32               [ 8]  319 	ld	(hl-), a
    0000011C 2A               [ 8]  320 	ld	a, (hl+)
    0000011D 5F               [ 4]  321 	ld	e, a
    0000011E 56               [ 8]  322 	ld	d, (hl)
    0000011F D5               [16]  323 	push	de
    00000120 F8 08            [12]  324 	ldhl	sp,	#8
    00000122 2A               [ 8]  325 	ld	a, (hl+)
    00000123 5F               [ 4]  326 	ld	e, a
    00000124 56               [ 8]  327 	ld	d, (hl)
    00000125 D5               [16]  328 	push	de
    00000126 F8 06            [12]  329 	ldhl	sp,	#6
    00000128 2A               [ 8]  330 	ld	a, (hl+)
    00000129 4F               [ 4]  331 	ld	c, a
    0000012A 2A               [ 8]  332 	ld	a, (hl+)
    0000012B 47               [ 4]  333 	ld	b, a
    0000012C 2A               [ 8]  334 	ld	a, (hl+)
    0000012D 5F               [ 4]  335 	ld	e, a
    0000012E 56               [ 8]  336 	ld	d, (hl)
    0000012F CDr00r00         [24]  337 	call	__mullong
    00000132 3E 04            [ 8]  338 	ld	a, #0x04
    00000134                        339 00103$:
    00000134 CB 2A            [ 8]  340 	sra	d
    00000136 CB 1B            [ 8]  341 	rr	e
    00000138 CB 18            [ 8]  342 	rr	b
    0000013A CB 19            [ 8]  343 	rr	c
    0000013C 3D               [ 4]  344 	dec	a
    0000013D 20 F5            [12]  345 	jr	NZ, 00103$
    0000013F E1               [12]  346 	pop	hl
    00000140 E5               [16]  347 	push	hl
    00000141 79               [ 4]  348 	ld	a, c
    00000142 22               [ 8]  349 	ld	(hl+), a
    00000143 70               [ 8]  350 	ld	(hl), b
                                    351 ;Source/Engine/ECS/../Libraries/vec2.h:53: a->y = ((int32_t)a->y * s) >> 4;
    00000144 F8 0C            [12]  352 	ldhl	sp,#12
    00000146 2A               [ 8]  353 	ld	a, (hl+)
    00000147 5F               [ 4]  354 	ld	e, a
    00000148 56               [ 8]  355 	ld	d, (hl)
    00000149 21 02 00         [12]  356 	ld	hl, #0x0002
    0000014C 19               [ 8]  357 	add	hl, de
    0000014D E5               [16]  358 	push	hl
    0000014E 7D               [ 4]  359 	ld	a, l
    0000014F F8 06            [12]  360 	ldhl	sp,	#6
    00000151 77               [ 8]  361 	ld	(hl), a
    00000152 E1               [12]  362 	pop	hl
    00000153 7C               [ 4]  363 	ld	a, h
    00000154 F8 05            [12]  364 	ldhl	sp,	#5
    00000156 32               [ 8]  365 	ld	(hl-), a
    00000157 2A               [ 8]  366 	ld	a, (hl+)
    00000158 5F               [ 4]  367 	ld	e, a
    00000159 56               [ 8]  368 	ld	d, (hl)
    0000015A 1A               [ 8]  369 	ld	a, (de)
    0000015B 4F               [ 4]  370 	ld	c, a
    0000015C 13               [ 8]  371 	inc	de
    0000015D 1A               [ 8]  372 	ld	a, (de)
    0000015E 47               [ 4]  373 	ld	b, a
    0000015F 07               [ 4]  374 	rlca
    00000160 9F               [ 4]  375 	sbc	a, a
    00000161 5F               [ 4]  376 	ld	e, a
    00000162 57               [ 4]  377 	ld	d, a
    00000163 F8 08            [12]  378 	ldhl	sp,	#8
    00000165 2A               [ 8]  379 	ld	a, (hl+)
    00000166 66               [ 8]  380 	ld	h, (hl)
    00000167 6F               [ 4]  381 	ld	l, a
    00000168 E5               [16]  382 	push	hl
    00000169 F8 08            [12]  383 	ldhl	sp,	#8
    0000016B 2A               [ 8]  384 	ld	a, (hl+)
    0000016C 66               [ 8]  385 	ld	h, (hl)
    0000016D 6F               [ 4]  386 	ld	l, a
    0000016E E5               [16]  387 	push	hl
    0000016F CDr00r00         [24]  388 	call	__mullong
    00000172 3E 04            [ 8]  389 	ld	a, #0x04
    00000174                        390 00105$:
    00000174 CB 2A            [ 8]  391 	sra	d
    00000176 CB 1B            [ 8]  392 	rr	e
    00000178 CB 18            [ 8]  393 	rr	b
    0000017A CB 19            [ 8]  394 	rr	c
    0000017C 3D               [ 4]  395 	dec	a
    0000017D 20 F5            [12]  396 	jr	NZ, 00105$
    0000017F F8 04            [12]  397 	ldhl	sp,	#4
    00000181 2A               [ 8]  398 	ld	a, (hl+)
    00000182 66               [ 8]  399 	ld	h, (hl)
    00000183 6F               [ 4]  400 	ld	l, a
    00000184 79               [ 4]  401 	ld	a, c
    00000185 22               [ 8]  402 	ld	(hl+), a
    00000186 70               [ 8]  403 	ld	(hl), b
                                    404 ;Source/Engine/ECS/../Libraries/vec2.h:54: }
    00000187 E8 0E            [16]  405 	add	sp, #14
    00000189 C9               [16]  406 	ret
                                    407 ;Source/Engine/ECS/../Libraries/vec2.h:57: static inline void vec2_copy(vec2 *dest, const vec2 *src) {
                                    408 ;	---------------------------------
                                    409 ; Function vec2_copy
                                    410 ; ---------------------------------
    0000018A                        411 _vec2_copy:
    0000018A E8 FC            [16]  412 	add	sp, #-4
    0000018C F8 02            [12]  413 	ldhl	sp,	#2
    0000018E 7B               [ 4]  414 	ld	a, e
    0000018F 22               [ 8]  415 	ld	(hl+), a
                                    416 ;Source/Engine/ECS/../Libraries/vec2.h:58: dest->x = src->x;
    00000190 7A               [ 4]  417 	ld	a, d
    00000191 32               [ 8]  418 	ld	(hl-), a
    00000192 33               [ 8]  419 	inc	sp
    00000193 33               [ 8]  420 	inc	sp
    00000194 C5               [16]  421 	push	bc
    00000195 2A               [ 8]  422 	ld	a, (hl+)
    00000196 4F               [ 4]  423 	ld	c, a
    00000197 46               [ 8]  424 	ld	b, (hl)
    00000198 D1               [12]  425 	pop	de
    00000199 D5               [16]  426 	push	de
    0000019A 1A               [ 8]  427 	ld	a, (de)
    0000019B 6F               [ 4]  428 	ld	l, a
    0000019C 13               [ 8]  429 	inc	de
    0000019D 1A               [ 8]  430 	ld	a, (de)
    0000019E 67               [ 4]  431 	ld	h, a
    0000019F 7D               [ 4]  432 	ld	a, l
    000001A0 02               [ 8]  433 	ld	(bc), a
    000001A1 03               [ 8]  434 	inc	bc
    000001A2 7C               [ 4]  435 	ld	a, h
    000001A3 02               [ 8]  436 	ld	(bc), a
                                    437 ;Source/Engine/ECS/../Libraries/vec2.h:59: dest->y = src->y;
    000001A4 F8 02            [12]  438 	ldhl	sp,	#2
    000001A6 2A               [ 8]  439 	ld	a, (hl+)
    000001A7 4F               [ 4]  440 	ld	c, a
    000001A8 46               [ 8]  441 	ld	b, (hl)
    000001A9 03               [ 8]  442 	inc	bc
    000001AA 03               [ 8]  443 	inc	bc
    000001AB E1               [12]  444 	pop	hl
    000001AC E5               [16]  445 	push	hl
    000001AD 23               [ 8]  446 	inc	hl
    000001AE 23               [ 8]  447 	inc	hl
    000001AF 2A               [ 8]  448 	ld	a,	(hl+)
    000001B0 66               [ 8]  449 	ld	h, (hl)
    000001B1 02               [ 8]  450 	ld	(bc), a
    000001B2 03               [ 8]  451 	inc	bc
    000001B3 7C               [ 4]  452 	ld	a, h
    000001B4 02               [ 8]  453 	ld	(bc), a
                                    454 ;Source/Engine/ECS/../Libraries/vec2.h:60: }
    000001B5 E8 04            [16]  455 	add	sp, #4
    000001B7 C9               [16]  456 	ret
                                    457 ;Source/Engine/ECS/../Libraries/vec2.h:63: static inline bool vec2_equal(const vec2 *a, const vec2 *b) {
                                    458 ;	---------------------------------
                                    459 ; Function vec2_equal
                                    460 ; ---------------------------------
    000001B8                        461 _vec2_equal:
    000001B8 E8 F8            [16]  462 	add	sp, #-8
    000001BA F8 06            [12]  463 	ldhl	sp,	#6
    000001BC 7B               [ 4]  464 	ld	a, e
    000001BD 22               [ 8]  465 	ld	(hl+), a
    000001BE 72               [ 8]  466 	ld	(hl), d
    000001BF F8 04            [12]  467 	ldhl	sp,	#4
    000001C1 79               [ 4]  468 	ld	a, c
    000001C2 22               [ 8]  469 	ld	(hl+), a
                                    470 ;Source/Engine/ECS/../Libraries/vec2.h:64: return a->x == b->x && a->y == b->y;
    000001C3 78               [ 4]  471 	ld	a, b
    000001C4 22               [ 8]  472 	ld	(hl+), a
    000001C5 2A               [ 8]  473 	ld	a, (hl+)
    000001C6 5F               [ 4]  474 	ld	e, a
    000001C7 3A               [ 8]  475 	ld	a, (hl-)
    000001C8 2B               [ 8]  476 	dec	hl
    000001C9 2B               [ 8]  477 	dec	hl
    000001CA 57               [ 4]  478 	ld	d, a
    000001CB 1A               [ 8]  479 	ld	a, (de)
    000001CC 4F               [ 4]  480 	ld	c, a
    000001CD 13               [ 8]  481 	inc	de
    000001CE 1A               [ 8]  482 	ld	a, (de)
    000001CF 47               [ 4]  483 	ld	b, a
    000001D0 2A               [ 8]  484 	ld	a, (hl+)
    000001D1 5F               [ 4]  485 	ld	e, a
    000001D2 56               [ 8]  486 	ld	d, (hl)
    000001D3 1A               [ 8]  487 	ld	a, (de)
    000001D4 6F               [ 4]  488 	ld	l, a
    000001D5 13               [ 8]  489 	inc	de
    000001D6 1A               [ 8]  490 	ld	a, (de)
    000001D7 67               [ 4]  491 	ld	h, a
    000001D8 7D               [ 4]  492 	ld	a, l
    000001D9 91               [ 4]  493 	sub	a, c
    000001DA 20 3D            [12]  494 	jr	NZ, 00103$
    000001DC 7C               [ 4]  495 	ld	a, h
    000001DD 90               [ 4]  496 	sub	a, b
    000001DE 20 39            [12]  497 	jr	NZ, 00103$
    000001E0 F8 06            [12]  498 	ldhl	sp,	#6
    000001E2 2A               [ 8]  499 	ld	a, (hl+)
    000001E3 4F               [ 4]  500 	ld	c, a
    000001E4 46               [ 8]  501 	ld	b, (hl)
    000001E5 03               [ 8]  502 	inc	bc
    000001E6 03               [ 8]  503 	inc	bc
    000001E7 59               [ 4]  504 	ld	e, c
    000001E8 50               [ 4]  505 	ld	d, b
    000001E9 1A               [ 8]  506 	ld	a, (de)
    000001EA F8 00            [12]  507 	ldhl	sp,	#0
    000001EC 22               [ 8]  508 	ld	(hl+), a
    000001ED 13               [ 8]  509 	inc	de
    000001EE 1A               [ 8]  510 	ld	a, (de)
    000001EF 77               [ 8]  511 	ld	(hl), a
    000001F0 F8 04            [12]  512 	ldhl	sp,#4
    000001F2 2A               [ 8]  513 	ld	a, (hl+)
    000001F3 5F               [ 4]  514 	ld	e, a
    000001F4 56               [ 8]  515 	ld	d, (hl)
    000001F5 21 02 00         [12]  516 	ld	hl, #0x0002
    000001F8 19               [ 8]  517 	add	hl, de
    000001F9 E5               [16]  518 	push	hl
    000001FA 7D               [ 4]  519 	ld	a, l
    000001FB F8 04            [12]  520 	ldhl	sp,	#4
    000001FD 77               [ 8]  521 	ld	(hl), a
    000001FE E1               [12]  522 	pop	hl
    000001FF 7C               [ 4]  523 	ld	a, h
    00000200 F8 03            [12]  524 	ldhl	sp,	#3
    00000202 32               [ 8]  525 	ld	(hl-), a
    00000203 2A               [ 8]  526 	ld	a, (hl+)
    00000204 5F               [ 4]  527 	ld	e, a
    00000205 3A               [ 8]  528 	ld	a, (hl-)
    00000206 57               [ 4]  529 	ld	d, a
    00000207 1A               [ 8]  530 	ld	a, (de)
    00000208 22               [ 8]  531 	ld	(hl+), a
    00000209 13               [ 8]  532 	inc	de
    0000020A 1A               [ 8]  533 	ld	a, (de)
    0000020B 77               [ 8]  534 	ld	(hl), a
    0000020C F8 00            [12]  535 	ldhl	sp,	#0
    0000020E 2A               [ 8]  536 	ld	a, (hl+)
    0000020F 23               [ 8]  537 	inc	hl
    00000210 96               [ 8]  538 	sub	a, (hl)
    00000211 20 06            [12]  539 	jr	NZ, 00115$
    00000213 2B               [ 8]  540 	dec	hl
    00000214 2A               [ 8]  541 	ld	a, (hl+)
    00000215 23               [ 8]  542 	inc	hl
    00000216 96               [ 8]  543 	sub	a, (hl)
    00000217 28 03            [12]  544 	jr	Z, 00104$
    00000219                        545 00115$:
    00000219                        546 00103$:
    00000219 AF               [ 4]  547 	xor	a, a
    0000021A 18 02            [12]  548 	jr	00105$
    0000021C                        549 00104$:
    0000021C 3E 01            [ 8]  550 	ld	a, #0x01
    0000021E                        551 00105$:
                                    552 ;Source/Engine/ECS/../Libraries/vec2.h:65: }
    0000021E E8 08            [16]  553 	add	sp, #8
    00000220 C9               [16]  554 	ret
                                    555 ;Source/Engine/ECS/ECS.c:6: void EntityAddComponent (Entity *entity, uint16_t component) {
                                    556 ;	---------------------------------
                                    557 ; Function EntityAddComponent
                                    558 ; ---------------------------------
    00000221                        559 _EntityAddComponent::
    00000221 E8 F5            [16]  560 	add	sp, #-11
    00000223 F8 09            [12]  561 	ldhl	sp,	#9
    00000225 7B               [ 4]  562 	ld	a, e
    00000226 22               [ 8]  563 	ld	(hl+), a
    00000227 72               [ 8]  564 	ld	(hl), d
    00000228 F8 07            [12]  565 	ldhl	sp,	#7
    0000022A 79               [ 4]  566 	ld	a, c
    0000022B 22               [ 8]  567 	ld	(hl+), a
                                    568 ;Source/Engine/ECS/ECS.c:10: if (EntityHasComponent(entity, component)){
    0000022C 78               [ 4]  569 	ld	a, b
    0000022D 32               [ 8]  570 	ld	(hl-), a
    0000022E 2A               [ 8]  571 	ld	a, (hl+)
    0000022F 4F               [ 4]  572 	ld	c, a
    00000230 2A               [ 8]  573 	ld	a, (hl+)
    00000231 47               [ 4]  574 	ld	b, a
    00000232 2A               [ 8]  575 	ld	a, (hl+)
    00000233 5F               [ 4]  576 	ld	e, a
    00000234 56               [ 8]  577 	ld	d, (hl)
    00000235 CDrA2r04         [24]  578 	call	_EntityHasComponent
    00000238 F8 06            [12]  579 	ldhl	sp,#6
    0000023A 77               [ 8]  580 	ld	(hl), a
    0000023B CB 46            [12]  581 	bit	0, (hl)
                                    582 ;Source/Engine/ECS/ECS.c:11: return;
    0000023D C2rC9r03         [16]  583 	jp	NZ, 00112$
                                    584 ;Source/Engine/ECS/ECS.c:14: entity->components |= component;
    00000240 F8 09            [12]  585 	ldhl	sp,	#9
    00000242 2A               [ 8]  586 	ld	a, (hl+)
    00000243 4F               [ 4]  587 	ld	c, a
    00000244 46               [ 8]  588 	ld	b, (hl)
    00000245 03               [ 8]  589 	inc	bc
    00000246 69               [ 4]  590 	ld	l, c
    00000247 60               [ 4]  591 	ld	h, b
    00000248 23               [ 8]  592 	inc	hl
    00000249 3A               [ 8]  593 	ld	a,	(hl-)
    0000024A 6E               [ 8]  594 	ld	l, (hl)
    0000024B F5               [16]  595 	push	af
    0000024C 7D               [ 4]  596 	ld	a, l
    0000024D E5               [16]  597 	push	hl
    0000024E F8 0B            [12]  598 	ldhl	sp,	#11
    00000250 B6               [ 8]  599 	or	a, (hl)
    00000251 E1               [12]  600 	pop	hl
    00000252 5F               [ 4]  601 	ld	e, a
    00000253 F1               [12]  602 	pop	af
    00000254 F8 08            [12]  603 	ldhl	sp,	#8
    00000256 B6               [ 8]  604 	or	a, (hl)
                                    605 ;Source/Engine/ECS/ECS.c:22: transformComponent.entityID[nextPoolSlot] = entity->ID;
    00000257 23               [ 8]  606 	inc	hl
    00000258 57               [ 4]  607 	ld	d, a
    00000259 7B               [ 4]  608 	ld	a, e
    0000025A 02               [ 8]  609 	ld	(bc), a
    0000025B 03               [ 8]  610 	inc	bc
    0000025C 7A               [ 4]  611 	ld	a, d
    0000025D 02               [ 8]  612 	ld	(bc), a
    0000025E 7E               [ 8]  613 	ld	a, (hl)
    0000025F F8 01            [12]  614 	ldhl	sp,	#1
    00000261 77               [ 8]  615 	ld	(hl), a
    00000262 F8 0A            [12]  616 	ldhl	sp,	#10
    00000264 7E               [ 8]  617 	ld	a, (hl)
    00000265 F8 02            [12]  618 	ldhl	sp,	#2
    00000267 77               [ 8]  619 	ld	(hl), a
                                    620 ;Source/Engine/ECS/ECS.c:17: switch (component) {
    00000268 F8 07            [12]  621 	ldhl	sp,	#7
    0000026A 2A               [ 8]  622 	ld	a, (hl+)
    0000026B 3D               [ 4]  623 	dec	a
    0000026C B6               [ 8]  624 	or	a, (hl)
    0000026D 28 0C            [12]  625 	jr	Z, 00103$
    0000026F F8 07            [12]  626 	ldhl	sp,	#7
    00000271 2A               [ 8]  627 	ld	a, (hl+)
    00000272 D6 02            [ 8]  628 	sub	a, #0x02
    00000274 B6               [ 8]  629 	or	a, (hl)
    00000275 CAr02r03         [16]  630 	jp	Z, 00106$
    00000278 C3rC9r03         [16]  631 	jp	00112$
                                    632 ;Source/Engine/ECS/ECS.c:18: case TRANSFORM_COMPONENT:
    0000027B                        633 00103$:
                                    634 ;Source/Engine/ECS/ECS.c:19: nextPoolSlot = GetNextAvailableComponentPoolSlot(transformComponent.entityID, TRANSFORM_POOL_SIZE);
    0000027B 3E 64            [ 8]  635 	ld	a, #0x64
    0000027D 11r00r00         [12]  636 	ld	de, #_transformComponent
    00000280 CDrB4r04         [24]  637 	call	_GetNextAvailableComponentPoolSlot
                                    638 ;Source/Engine/ECS/ECS.c:20: if (nextPoolSlot != 255) {
    00000283 F8 00            [12]  639 	ldhl	sp,#0
    00000285 77               [ 8]  640 	ld	(hl), a
    00000286 3C               [ 4]  641 	inc	a
    00000287 CArC9r03         [16]  642 	jp	Z, 00112$
                                    643 ;Source/Engine/ECS/ECS.c:21: vec2_set(&transformComponent.position[nextPoolSlot], 0, 0);
    0000028A F8 00            [12]  644 	ldhl	sp,	#0
    0000028C 7E               [ 8]  645 	ld	a, (hl)
    0000028D F8 05            [12]  646 	ldhl	sp,	#5
    0000028F 22               [ 8]  647 	ld	(hl+), a
    00000290 AF               [ 4]  648 	xor	a, a
    00000291 32               [ 8]  649 	ld	(hl-), a
    00000292 3A               [ 8]  650 	ld	a, (hl-)
    00000293 2B               [ 8]  651 	dec	hl
    00000294 22               [ 8]  652 	ld	(hl+), a
    00000295 36 00            [12]  653 	ld	(hl), #0x00
    00000297 3E 02            [ 8]  654 	ld	a, #0x02
    00000299                        655 00152$:
    00000299 F8 03            [12]  656 	ldhl	sp,	#3
    0000029B CB 26            [16]  657 	sla	(hl)
    0000029D 23               [ 8]  658 	inc	hl
    0000029E CB 16            [16]  659 	rl	(hl)
    000002A0 3D               [ 4]  660 	dec	a
    000002A1 20 F6            [12]  661 	jr	NZ, 00152$
    000002A3 2B               [ 8]  662 	dec	hl
    000002A4 2A               [ 8]  663 	ld	a, (hl+)
    000002A5 5F               [ 4]  664 	ld	e, a
    000002A6 56               [ 8]  665 	ld	d, (hl)
    000002A7 21r64r00         [12]  666 	ld	hl, #(_transformComponent + 100)
    000002AA 19               [ 8]  667 	add	hl, de
    000002AB E5               [16]  668 	push	hl
    000002AC 7D               [ 4]  669 	ld	a, l
    000002AD F8 07            [12]  670 	ldhl	sp,	#7
    000002AF 77               [ 8]  671 	ld	(hl), a
    000002B0 E1               [12]  672 	pop	hl
    000002B1 7C               [ 4]  673 	ld	a, h
    000002B2 F8 06            [12]  674 	ldhl	sp,	#6
    000002B4 32               [ 8]  675 	ld	(hl-), a
    000002B5 3A               [ 8]  676 	ld	a, (hl-)
    000002B6 2B               [ 8]  677 	dec	hl
    000002B7 77               [ 8]  678 	ld	(hl), a
    000002B8 F8 06            [12]  679 	ldhl	sp,	#6
    000002BA 3A               [ 8]  680 	ld	a, (hl-)
    000002BB 2B               [ 8]  681 	dec	hl
                                    682 ;Source/Engine/ECS/../Libraries/vec2.h:33: v->x = F12(x);
    000002BC 32               [ 8]  683 	ld	(hl-), a
    000002BD 2A               [ 8]  684 	ld	a, (hl+)
    000002BE 66               [ 8]  685 	ld	h, (hl)
    000002BF 6F               [ 4]  686 	ld	l, a
    000002C0 AF               [ 4]  687 	xor	a, a
    000002C1 22               [ 8]  688 	ld	(hl+), a
    000002C2 77               [ 8]  689 	ld	(hl), a
                                    690 ;Source/Engine/ECS/../Libraries/vec2.h:34: v->y = F12(y);
    000002C3 F8 03            [12]  691 	ldhl	sp,#3
    000002C5 2A               [ 8]  692 	ld	a, (hl+)
    000002C6 5F               [ 4]  693 	ld	e, a
    000002C7 56               [ 8]  694 	ld	d, (hl)
    000002C8 21 02 00         [12]  695 	ld	hl, #0x0002
    000002CB 19               [ 8]  696 	add	hl, de
    000002CC E5               [16]  697 	push	hl
    000002CD 7D               [ 4]  698 	ld	a, l
    000002CE F8 07            [12]  699 	ldhl	sp,	#7
    000002D0 77               [ 8]  700 	ld	(hl), a
    000002D1 E1               [12]  701 	pop	hl
    000002D2 7C               [ 4]  702 	ld	a, h
    000002D3 F8 06            [12]  703 	ldhl	sp,	#6
    000002D5 32               [ 8]  704 	ld	(hl-), a
    000002D6 2A               [ 8]  705 	ld	a, (hl+)
    000002D7 66               [ 8]  706 	ld	h, (hl)
    000002D8 6F               [ 4]  707 	ld	l, a
    000002D9 AF               [ 4]  708 	xor	a, a
    000002DA 22               [ 8]  709 	ld	(hl+), a
    000002DB 77               [ 8]  710 	ld	(hl), a
                                    711 ;Source/Engine/ECS/ECS.c:22: transformComponent.entityID[nextPoolSlot] = entity->ID;
    000002DC 11r00r00         [12]  712 	ld	de, #_transformComponent
    000002DF F8 00            [12]  713 	ldhl	sp,	#0
    000002E1 6E               [ 8]  714 	ld	l, (hl)
    000002E2 26 00            [ 8]  715 	ld	h, #0x00
    000002E4 19               [ 8]  716 	add	hl, de
    000002E5 E5               [16]  717 	push	hl
    000002E6 7D               [ 4]  718 	ld	a, l
    000002E7 F8 07            [12]  719 	ldhl	sp,	#7
    000002E9 77               [ 8]  720 	ld	(hl), a
    000002EA E1               [12]  721 	pop	hl
    000002EB 7C               [ 4]  722 	ld	a, h
    000002EC F8 06            [12]  723 	ldhl	sp,	#6
    000002EE 77               [ 8]  724 	ld	(hl), a
    000002EF F8 01            [12]  725 	ldhl	sp,#1
    000002F1 2A               [ 8]  726 	ld	a, (hl+)
    000002F2 5F               [ 4]  727 	ld	e, a
    000002F3 2A               [ 8]  728 	ld	a, (hl+)
    000002F4 23               [ 8]  729 	inc	hl
    000002F5 57               [ 4]  730 	ld	d, a
    000002F6 1A               [ 8]  731 	ld	a, (de)
    000002F7 22               [ 8]  732 	ld	(hl+), a
    000002F8 2A               [ 8]  733 	ld	a, (hl+)
    000002F9 5F               [ 4]  734 	ld	e, a
    000002FA 3A               [ 8]  735 	ld	a, (hl-)
    000002FB 2B               [ 8]  736 	dec	hl
    000002FC 57               [ 4]  737 	ld	d, a
    000002FD 7E               [ 8]  738 	ld	a, (hl)
    000002FE 12               [ 8]  739 	ld	(de), a
                                    740 ;Source/Engine/ECS/ECS.c:24: break;
    000002FF C3rC9r03         [16]  741 	jp	00112$
                                    742 ;Source/Engine/ECS/ECS.c:25: case SPRITE_COMPONENT:
    00000302                        743 00106$:
                                    744 ;Source/Engine/ECS/ECS.c:26: nextPoolSlot = GetNextAvailableComponentPoolSlot(spriteComponent.entityID, SPRITE_POOL_SIZE);
    00000302 3E 32            [ 8]  745 	ld	a, #0x32
    00000304 11r00r00         [12]  746 	ld	de, #_spriteComponent
    00000307 CDrB4r04         [24]  747 	call	_GetNextAvailableComponentPoolSlot
                                    748 ;Source/Engine/ECS/ECS.c:27: if (nextPoolSlot != 255) {
    0000030A F8 03            [12]  749 	ldhl	sp,#3
    0000030C 77               [ 8]  750 	ld	(hl), a
    0000030D 3C               [ 4]  751 	inc	a
    0000030E CArC9r03         [16]  752 	jp	Z, 00112$
                                    753 ;Source/Engine/ECS/ECS.c:28: spriteComponent.entityID[nextPoolSlot] = entity->ID;
    00000311 11r00r00         [12]  754 	ld	de, #_spriteComponent
    00000314 F8 03            [12]  755 	ldhl	sp,	#3
    00000316 6E               [ 8]  756 	ld	l, (hl)
    00000317 26 00            [ 8]  757 	ld	h, #0x00
    00000319 19               [ 8]  758 	add	hl, de
    0000031A E5               [16]  759 	push	hl
    0000031B 7D               [ 4]  760 	ld	a, l
    0000031C F8 06            [12]  761 	ldhl	sp,	#6
    0000031E 77               [ 8]  762 	ld	(hl), a
    0000031F E1               [12]  763 	pop	hl
    00000320 7C               [ 4]  764 	ld	a, h
    00000321 F8 05            [12]  765 	ldhl	sp,	#5
    00000323 77               [ 8]  766 	ld	(hl), a
    00000324 F8 01            [12]  767 	ldhl	sp,#1
    00000326 2A               [ 8]  768 	ld	a, (hl+)
    00000327 5F               [ 4]  769 	ld	e, a
    00000328 56               [ 8]  770 	ld	d, (hl)
    00000329 1A               [ 8]  771 	ld	a, (de)
    0000032A F8 06            [12]  772 	ldhl	sp,	#6
    0000032C 32               [ 8]  773 	ld	(hl-), a
    0000032D 2B               [ 8]  774 	dec	hl
    0000032E 2A               [ 8]  775 	ld	a, (hl+)
    0000032F 5F               [ 4]  776 	ld	e, a
    00000330 2A               [ 8]  777 	ld	a, (hl+)
    00000331 57               [ 4]  778 	ld	d, a
    00000332 7E               [ 8]  779 	ld	a, (hl)
    00000333 12               [ 8]  780 	ld	(de), a
                                    781 ;Source/Engine/ECS/ECS.c:29: spriteComponent.tileData[nextPoolSlot] = 0; // Null pointer, but zero for consistency
    00000334 F8 03            [12]  782 	ldhl	sp,	#3
    00000336 7E               [ 8]  783 	ld	a, (hl)
    00000337 87               [ 4]  784 	add	a, a
    00000338 F8 06            [12]  785 	ldhl	sp,	#6
    0000033A 77               [ 8]  786 	ld	(hl), a
    0000033B 11r32r00         [12]  787 	ld	de, #(_spriteComponent + 50)
    0000033E 6E               [ 8]  788 	ld	l, (hl)
    0000033F 26 00            [ 8]  789 	ld	h, #0x00
    00000341 19               [ 8]  790 	add	hl, de
    00000342 E5               [16]  791 	push	hl
    00000343 7D               [ 4]  792 	ld	a, l
    00000344 F8 06            [12]  793 	ldhl	sp,	#6
    00000346 77               [ 8]  794 	ld	(hl), a
    00000347 E1               [12]  795 	pop	hl
    00000348 7C               [ 4]  796 	ld	a, h
    00000349 F8 05            [12]  797 	ldhl	sp,	#5
    0000034B 32               [ 8]  798 	ld	(hl-), a
    0000034C 2A               [ 8]  799 	ld	a, (hl+)
    0000034D 66               [ 8]  800 	ld	h, (hl)
    0000034E 6F               [ 4]  801 	ld	l, a
    0000034F AF               [ 4]  802 	xor	a, a
    00000350 22               [ 8]  803 	ld	(hl+), a
    00000351 77               [ 8]  804 	ld	(hl), a
                                    805 ;Source/Engine/ECS/ECS.c:30: spriteComponent.tileIndex[nextPoolSlot] = 0;
    00000352 11r96r00         [12]  806 	ld	de, #(_spriteComponent + 150)
    00000355 F8 03            [12]  807 	ldhl	sp,	#3
    00000357 6E               [ 8]  808 	ld	l, (hl)
    00000358 26 00            [ 8]  809 	ld	h, #0x00
    0000035A 19               [ 8]  810 	add	hl, de
    0000035B E5               [16]  811 	push	hl
    0000035C 7D               [ 4]  812 	ld	a, l
    0000035D F8 06            [12]  813 	ldhl	sp,	#6
    0000035F 77               [ 8]  814 	ld	(hl), a
    00000360 E1               [12]  815 	pop	hl
    00000361 7C               [ 4]  816 	ld	a, h
    00000362 F8 05            [12]  817 	ldhl	sp,	#5
    00000364 32               [ 8]  818 	ld	(hl-), a
    00000365 2A               [ 8]  819 	ld	a, (hl+)
    00000366 66               [ 8]  820 	ld	h, (hl)
    00000367 6F               [ 4]  821 	ld	l, a
    00000368 36 00            [12]  822 	ld	(hl), #0x00
                                    823 ;Source/Engine/ECS/ECS.c:31: spriteComponent.offset[nextPoolSlot].x = 0;
    0000036A 11rC8r00         [12]  824 	ld	de, #(_spriteComponent + 200)
    0000036D F8 06            [12]  825 	ldhl	sp,	#6
    0000036F 6E               [ 8]  826 	ld	l, (hl)
    00000370 26 00            [ 8]  827 	ld	h, #0x00
    00000372 19               [ 8]  828 	add	hl, de
    00000373 E5               [16]  829 	push	hl
    00000374 7D               [ 4]  830 	ld	a, l
    00000375 F8 03            [12]  831 	ldhl	sp,	#3
    00000377 77               [ 8]  832 	ld	(hl), a
    00000378 E1               [12]  833 	pop	hl
    00000379 7C               [ 4]  834 	ld	a, h
    0000037A F8 02            [12]  835 	ldhl	sp,	#2
    0000037C 32               [ 8]  836 	ld	(hl-), a
    0000037D 2A               [ 8]  837 	ld	a, (hl+)
    0000037E 66               [ 8]  838 	ld	h, (hl)
    0000037F 6F               [ 4]  839 	ld	l, a
    00000380 36 00            [12]  840 	ld	(hl), #0x00
                                    841 ;Source/Engine/ECS/ECS.c:32: spriteComponent.offset[nextPoolSlot].y = 0;
    00000382 F8 01            [12]  842 	ldhl	sp,#1
    00000384 2A               [ 8]  843 	ld	a, (hl+)
    00000385 5F               [ 4]  844 	ld	e, a
    00000386 56               [ 8]  845 	ld	d, (hl)
    00000387 6B               [ 4]  846 	ld	l, e
    00000388 62               [ 4]  847 	ld	h, d
    00000389 23               [ 8]  848 	inc	hl
    0000038A E5               [16]  849 	push	hl
    0000038B 7D               [ 4]  850 	ld	a, l
    0000038C F8 07            [12]  851 	ldhl	sp,	#7
    0000038E 77               [ 8]  852 	ld	(hl), a
    0000038F E1               [12]  853 	pop	hl
    00000390 7C               [ 4]  854 	ld	a, h
    00000391 F8 06            [12]  855 	ldhl	sp,	#6
    00000393 32               [ 8]  856 	ld	(hl-), a
    00000394 2A               [ 8]  857 	ld	a, (hl+)
    00000395 66               [ 8]  858 	ld	h, (hl)
    00000396 6F               [ 4]  859 	ld	l, a
    00000397 36 00            [12]  860 	ld	(hl), #0x00
                                    861 ;Source/Engine/ECS/ECS.c:33: spriteComponent.type[nextPoolSlot] = SPRITE_TYPE_WORLD;
    00000399 11r2Cr01         [12]  862 	ld	de, #(_spriteComponent + 300)
    0000039C F8 03            [12]  863 	ldhl	sp,	#3
    0000039E 6E               [ 8]  864 	ld	l, (hl)
    0000039F 26 00            [ 8]  865 	ld	h, #0x00
    000003A1 19               [ 8]  866 	add	hl, de
    000003A2 E5               [16]  867 	push	hl
    000003A3 7D               [ 4]  868 	ld	a, l
    000003A4 F8 07            [12]  869 	ldhl	sp,	#7
    000003A6 77               [ 8]  870 	ld	(hl), a
    000003A7 E1               [12]  871 	pop	hl
    000003A8 7C               [ 4]  872 	ld	a, h
    000003A9 F8 06            [12]  873 	ldhl	sp,	#6
    000003AB 32               [ 8]  874 	ld	(hl-), a
    000003AC 2A               [ 8]  875 	ld	a, (hl+)
    000003AD 66               [ 8]  876 	ld	h, (hl)
    000003AE 6F               [ 4]  877 	ld	l, a
    000003AF 36 00            [12]  878 	ld	(hl), #0x00
                                    879 ;Source/Engine/ECS/ECS.c:34: spriteComponent.visible[nextPoolSlot] = false;
    000003B1 11r5Er01         [12]  880 	ld	de, #(_spriteComponent + 350)
    000003B4 F8 03            [12]  881 	ldhl	sp,	#3
    000003B6 6E               [ 8]  882 	ld	l, (hl)
    000003B7 26 00            [ 8]  883 	ld	h, #0x00
    000003B9 19               [ 8]  884 	add	hl, de
    000003BA E5               [16]  885 	push	hl
    000003BB 7D               [ 4]  886 	ld	a, l
    000003BC F8 07            [12]  887 	ldhl	sp,	#7
    000003BE 77               [ 8]  888 	ld	(hl), a
    000003BF E1               [12]  889 	pop	hl
    000003C0 7C               [ 4]  890 	ld	a, h
    000003C1 F8 06            [12]  891 	ldhl	sp,	#6
    000003C3 32               [ 8]  892 	ld	(hl-), a
    000003C4 2A               [ 8]  893 	ld	a, (hl+)
    000003C5 66               [ 8]  894 	ld	h, (hl)
    000003C6 6F               [ 4]  895 	ld	l, a
    000003C7 36 00            [12]  896 	ld	(hl), #0x00
                                    897 ;Source/Engine/ECS/ECS.c:41: }
    000003C9                        898 00112$:
                                    899 ;Source/Engine/ECS/ECS.c:42: }
    000003C9 E8 0B            [16]  900 	add	sp, #11
    000003CB C9               [16]  901 	ret
                                    902 ;Source/Engine/ECS/ECS.c:45: void EntityRemoveComponent(Entity *entity, uint16_t component) {
                                    903 ;	---------------------------------
                                    904 ; Function EntityRemoveComponent
                                    905 ; ---------------------------------
    000003CC                        906 _EntityRemoveComponent::
    000003CC E8 FA            [16]  907 	add	sp, #-6
    000003CE F8 04            [12]  908 	ldhl	sp,	#4
    000003D0 7B               [ 4]  909 	ld	a, e
    000003D1 22               [ 8]  910 	ld	(hl+), a
                                    911 ;Source/Engine/ECS/ECS.c:47: entity->components &= ~component;
    000003D2 7A               [ 4]  912 	ld	a, d
    000003D3 32               [ 8]  913 	ld	(hl-), a
    000003D4 2A               [ 8]  914 	ld	a, (hl+)
    000003D5 5F               [ 4]  915 	ld	e, a
    000003D6 56               [ 8]  916 	ld	d, (hl)
    000003D7 6B               [ 4]  917 	ld	l, e
    000003D8 62               [ 4]  918 	ld	h, d
    000003D9 23               [ 8]  919 	inc	hl
    000003DA 33               [ 8]  920 	inc	sp
    000003DB 33               [ 8]  921 	inc	sp
    000003DC 5D               [ 4]  922 	ld	e, l
    000003DD 54               [ 4]  923 	ld	d, h
    000003DE D5               [16]  924 	push	de
    000003DF 1A               [ 8]  925 	ld	a, (de)
    000003E0 6F               [ 4]  926 	ld	l, a
    000003E1 13               [ 8]  927 	inc	de
    000003E2 1A               [ 8]  928 	ld	a, (de)
    000003E3 67               [ 4]  929 	ld	h, a
    000003E4 79               [ 4]  930 	ld	a, c
    000003E5 2F               [ 4]  931 	cpl
    000003E6 5F               [ 4]  932 	ld	e, a
    000003E7 78               [ 4]  933 	ld	a, b
    000003E8 2F               [ 4]  934 	cpl
    000003E9 57               [ 4]  935 	ld	d, a
    000003EA 7D               [ 4]  936 	ld	a, l
    000003EB A3               [ 4]  937 	and	a, e
    000003EC E5               [16]  938 	push	hl
    000003ED F8 04            [12]  939 	ldhl	sp,	#4
    000003EF 77               [ 8]  940 	ld	(hl), a
    000003F0 E1               [12]  941 	pop	hl
    000003F1 7C               [ 4]  942 	ld	a, h
    000003F2 A2               [ 4]  943 	and	a, d
    000003F3 F8 03            [12]  944 	ldhl	sp,	#3
    000003F5 77               [ 8]  945 	ld	(hl), a
    000003F6 D1               [12]  946 	pop	de
    000003F7 D5               [16]  947 	push	de
    000003F8 F8 02            [12]  948 	ldhl	sp,	#2
    000003FA 2A               [ 8]  949 	ld	a, (hl+)
    000003FB 12               [ 8]  950 	ld	(de), a
    000003FC 13               [ 8]  951 	inc	de
                                    952 ;Source/Engine/ECS/ECS.c:53: if (transformComponent.entityID[i] == entity -> ID)  {
    000003FD 2A               [ 8]  953 	ld	a, (hl+)
    000003FE 12               [ 8]  954 	ld	(de), a
    000003FF 2A               [ 8]  955 	ld	a, (hl+)
    00000400 5F               [ 4]  956 	ld	e, a
    00000401 56               [ 8]  957 	ld	d, (hl)
                                    958 ;Source/Engine/ECS/ECS.c:50: switch (component) {
    00000402 79               [ 4]  959 	ld	a, c
    00000403 3D               [ 4]  960 	dec	a
    00000404 B0               [ 4]  961 	or	a, b
    00000405 28 09            [12]  962 	jr	Z, 00101$
    00000407 79               [ 4]  963 	ld	a, c
    00000408 D6 02            [ 8]  964 	sub	a, #0x02
    0000040A B0               [ 4]  965 	or	a, b
    0000040B 28 43            [12]  966 	jr	Z, 00105$
    0000040D C3r9Fr04         [16]  967 	jp	00116$
                                    968 ;Source/Engine/ECS/ECS.c:51: case TRANSFORM_COMPONENT:
    00000410                        969 00101$:
                                    970 ;Source/Engine/ECS/ECS.c:52: for (i = 0; i < TRANSFORM_POOL_SIZE; i++) {
    00000410 F8 03            [12]  971 	ldhl	sp,	#3
    00000412 36 00            [12]  972 	ld	(hl), #0x00
    00000414 0E 00            [ 8]  973 	ld	c, #0x00
    00000416                        974 00112$:
                                    975 ;Source/Engine/ECS/ECS.c:53: if (transformComponent.entityID[i] == entity -> ID)  {
    00000416 21r00r00         [12]  976 	ld	hl, #_transformComponent
    00000419 06 00            [ 8]  977 	ld	b, #0x00
    0000041B 09               [ 8]  978 	add	hl, bc
    0000041C 1A               [ 8]  979 	ld	a, (de)
    0000041D 46               [ 8]  980 	ld	b, (hl)
    0000041E 90               [ 4]  981 	sub	a, b
    0000041F 20 24            [12]  982 	jr	NZ, 00113$
                                    983 ;Source/Engine/ECS/ECS.c:54: vec2_set(&transformComponent.position[i], 0, 0);
    00000421 01r64r00         [12]  984 	ld	bc, #_transformComponent + 100
    00000424 F8 03            [12]  985 	ldhl	sp,	#3
    00000426 5E               [ 8]  986 	ld	e, (hl)
    00000427 16 00            [ 8]  987 	ld	d, #0x00
    00000429 6B               [ 4]  988 	ld	l, e
    0000042A 62               [ 4]  989 	ld	h, d
    0000042B 29               [ 8]  990 	add	hl, hl
    0000042C 29               [ 8]  991 	add	hl, hl
    0000042D 09               [ 8]  992 	add	hl, bc
                                    993 ;Source/Engine/ECS/../Libraries/vec2.h:33: v->x = F12(x);
    0000042E AF               [ 4]  994 	xor	a, a
    0000042F 22               [ 8]  995 	ld	(hl+), a
    00000430 32               [ 8]  996 	ld	(hl-), a
                                    997 ;Source/Engine/ECS/../Libraries/vec2.h:34: v->y = F12(y);
    00000431 23               [ 8]  998 	inc	hl
    00000432 23               [ 8]  999 	inc	hl
    00000433 AF               [ 4] 1000 	xor	a, a
    00000434 22               [ 8] 1001 	ld	(hl+), a
    00000435 77               [ 8] 1002 	ld	(hl), a
                                   1003 ;Source/Engine/ECS/ECS.c:55: transformComponent.entityID[i] = 0;
    00000436 11r00r00         [12] 1004 	ld	de, #_transformComponent
    00000439 F8 03            [12] 1005 	ldhl	sp,	#3
    0000043B 6E               [ 8] 1006 	ld	l, (hl)
    0000043C 26 00            [ 8] 1007 	ld	h, #0x00
    0000043E 19               [ 8] 1008 	add	hl, de
    0000043F 4D               [ 4] 1009 	ld	c, l
    00000440 44               [ 4] 1010 	ld	b, h
    00000441 AF               [ 4] 1011 	xor	a, a
    00000442 02               [ 8] 1012 	ld	(bc), a
                                   1013 ;Source/Engine/ECS/ECS.c:56: return;
    00000443 18 5A            [12] 1014 	jr	00116$
    00000445                       1015 00113$:
                                   1016 ;Source/Engine/ECS/ECS.c:52: for (i = 0; i < TRANSFORM_POOL_SIZE; i++) {
    00000445 0C               [ 4] 1017 	inc	c
    00000446 F8 03            [12] 1018 	ldhl	sp,	#3
    00000448 79               [ 4] 1019 	ld	a,c
    00000449 77               [ 8] 1020 	ld	(hl),a
    0000044A D6 64            [ 8] 1021 	sub	a, #0x64
    0000044C 38 C8            [12] 1022 	jr	C, 00112$
                                   1023 ;Source/Engine/ECS/ECS.c:59: break;
    0000044E 18 4F            [12] 1024 	jr	00116$
                                   1025 ;Source/Engine/ECS/ECS.c:60: case SPRITE_COMPONENT:
    00000450                       1026 00105$:
                                   1027 ;Source/Engine/ECS/ECS.c:61: for (i = 0; i < SPRITE_POOL_SIZE; i++) {
    00000450 01 00 00         [12] 1028 	ld	bc, #0x0
    00000453                       1029 00114$:
                                   1030 ;Source/Engine/ECS/ECS.c:62: if (spriteComponent.entityID[i] == entity -> ID)  {
    00000453 3Er00            [ 8] 1031 	ld	a, #<(_spriteComponent)
    00000455 80               [ 4] 1032 	add	a, b
    00000456 6F               [ 4] 1033 	ld	l, a
    00000457 3Es00            [ 8] 1034 	ld	a, #>(_spriteComponent)
    00000459 CE 00            [ 8] 1035 	adc	a, #0x00
    0000045B 67               [ 4] 1036 	ld	h, a
    0000045C 1A               [ 8] 1037 	ld	a, (de)
    0000045D 6E               [ 8] 1038 	ld	l, (hl)
    0000045E 95               [ 4] 1039 	sub	a, l
    0000045F 20 37            [12] 1040 	jr	NZ, 00115$
                                   1041 ;Source/Engine/ECS/ECS.c:63: spriteComponent.entityID[i] = 0;
    00000461 21r00r00         [12] 1042 	ld	hl, #_spriteComponent
    00000464 06 00            [ 8] 1043 	ld	b, #0x00
    00000466 09               [ 8] 1044 	add	hl, bc
    00000467 36 00            [12] 1045 	ld	(hl), #0x00
                                   1046 ;Source/Engine/ECS/ECS.c:64: spriteComponent.tileData[i] = 0;
    00000469 21r32r00         [12] 1047 	ld	hl, #_spriteComponent + 50
    0000046C 79               [ 4] 1048 	ld	a, c
    0000046D 87               [ 4] 1049 	add	a, a
    0000046E 5F               [ 4] 1050 	ld	e, a
    0000046F 16 00            [ 8] 1051 	ld	d, #0x00
    00000471 19               [ 8] 1052 	add	hl, de
    00000472 AF               [ 4] 1053 	xor	a, a
    00000473 22               [ 8] 1054 	ld	(hl+), a
    00000474 77               [ 8] 1055 	ld	(hl), a
                                   1056 ;Source/Engine/ECS/ECS.c:65: spriteComponent.tileIndex[i] = 0;
    00000475 21r96r00         [12] 1057 	ld	hl, #_spriteComponent + 150
    00000478 06 00            [ 8] 1058 	ld	b, #0x00
    0000047A 09               [ 8] 1059 	add	hl, bc
    0000047B 36 00            [12] 1060 	ld	(hl), #0x00
                                   1061 ;Source/Engine/ECS/ECS.c:66: spriteComponent.offset[i].x = 0;
    0000047D 21rC8r00         [12] 1062 	ld	hl, #_spriteComponent + 200
    00000480 16 00            [ 8] 1063 	ld	d, #0x00
    00000482 19               [ 8] 1064 	add	hl, de
                                   1065 ;Source/Engine/ECS/ECS.c:67: spriteComponent.offset[i].y = 0;
    00000483 AF               [ 4] 1066 	xor	a, a
    00000484 22               [ 8] 1067 	ld	(hl+), a
    00000485 77               [ 8] 1068 	ld	(hl), a
                                   1069 ;Source/Engine/ECS/ECS.c:68: spriteComponent.type[i] = SPRITE_TYPE_WORLD;
    00000486 21r2Cr01         [12] 1070 	ld	hl, #(_spriteComponent + 300)
    00000489 06 00            [ 8] 1071 	ld	b, #0x00
    0000048B 09               [ 8] 1072 	add	hl, bc
    0000048C 36 00            [12] 1073 	ld	(hl), #0x00
                                   1074 ;Source/Engine/ECS/ECS.c:69: spriteComponent.visible[i] = false;
    0000048E 21r5Er01         [12] 1075 	ld	hl, #(_spriteComponent + 350)
    00000491 06 00            [ 8] 1076 	ld	b, #0x00
    00000493 09               [ 8] 1077 	add	hl, bc
    00000494 36 00            [12] 1078 	ld	(hl), #0x00
                                   1079 ;Source/Engine/ECS/ECS.c:70: return;
    00000496 18 07            [12] 1080 	jr	00116$
    00000498                       1081 00115$:
                                   1082 ;Source/Engine/ECS/ECS.c:61: for (i = 0; i < SPRITE_POOL_SIZE; i++) {
    00000498 04               [ 4] 1083 	inc	b
    00000499 48               [ 4] 1084 	ld	c, b
    0000049A 78               [ 4] 1085 	ld	a, b
    0000049B D6 32            [ 8] 1086 	sub	a, #0x32
    0000049D 38 B4            [12] 1087 	jr	C, 00114$
                                   1088 ;Source/Engine/ECS/ECS.c:78: }
    0000049F                       1089 00116$:
                                   1090 ;Source/Engine/ECS/ECS.c:79: }
    0000049F E8 06            [16] 1091 	add	sp, #6
    000004A1 C9               [16] 1092 	ret
                                   1093 ;Source/Engine/ECS/ECS.c:82: bool EntityHasComponent(const Entity *entity, uint16_t component) {
                                   1094 ;	---------------------------------
                                   1095 ; Function EntityHasComponent
                                   1096 ; ---------------------------------
    000004A2                       1097 _EntityHasComponent::
                                   1098 ;Source/Engine/ECS/ECS.c:83: return (entity->components & component) != 0;
    000004A2 6B               [ 4] 1099 	ld	l, e
    000004A3 62               [ 4] 1100 	ld	h, d
    000004A4 23               [ 8] 1101 	inc	hl
    000004A5 2A               [ 8] 1102 	ld	a, (hl+)
    000004A6 6E               [ 8] 1103 	ld	l, (hl)
    000004A7 A1               [ 4] 1104 	and	a, c
    000004A8 4F               [ 4] 1105 	ld	c, a
    000004A9 7D               [ 4] 1106 	ld	a, l
    000004AA A0               [ 4] 1107 	and	a, b
    000004AB B1               [ 4] 1108 	or	a, c
    000004AC D6 01            [ 8] 1109 	sub	a, #0x01
    000004AE 3E 00            [ 8] 1110 	ld	a, #0x00
    000004B0 17               [ 4] 1111 	rla
    000004B1 EE 01            [ 8] 1112 	xor	a, #0x01
                                   1113 ;Source/Engine/ECS/ECS.c:84: }
    000004B3 C9               [16] 1114 	ret
                                   1115 ;Source/Engine/ECS/ECS.c:86: uint8_t GetNextAvailableComponentPoolSlot(uint8_t *poolPointer, uint8_t poolSize) {
                                   1116 ;	---------------------------------
                                   1117 ; Function GetNextAvailableComponentPoolSlot
                                   1118 ; ---------------------------------
    000004B4                       1119 _GetNextAvailableComponentPoolSlot::
    000004B4 3B               [ 8] 1120 	dec	sp
    000004B5 4F               [ 4] 1121 	ld	c, a
                                   1122 ;Source/Engine/ECS/ECS.c:88: for (i = 0; i < poolSize; i++) {
    000004B6 F8 00            [12] 1123 	ldhl	sp,	#0
    000004B8 36 00            [12] 1124 	ld	(hl), #0x00
    000004BA 06 00            [ 8] 1125 	ld	b, #0x00
    000004BC                       1126 00105$:
    000004BC 78               [ 4] 1127 	ld	a, b
    000004BD 91               [ 4] 1128 	sub	a, c
    000004BE 30 13            [12] 1129 	jr	NC, 00103$
                                   1130 ;Source/Engine/ECS/ECS.c:89: if (poolPointer[i] == 0) {
    000004C0 68               [ 4] 1131 	ld	l, b
    000004C1 26 00            [ 8] 1132 	ld	h, #0x00
    000004C3 19               [ 8] 1133 	add	hl, de
    000004C4 7E               [ 8] 1134 	ld	a, (hl)
    000004C5 B7               [ 4] 1135 	or	a, a
    000004C6 20 05            [12] 1136 	jr	NZ, 00106$
                                   1137 ;Source/Engine/ECS/ECS.c:90: return i;
    000004C8 F8 00            [12] 1138 	ldhl	sp,	#0
    000004CA 7E               [ 8] 1139 	ld	a, (hl)
    000004CB 18 08            [12] 1140 	jr	00107$
    000004CD                       1141 00106$:
                                   1142 ;Source/Engine/ECS/ECS.c:88: for (i = 0; i < poolSize; i++) {
    000004CD 04               [ 4] 1143 	inc	b
    000004CE F8 00            [12] 1144 	ldhl	sp,	#0
    000004D0 70               [ 8] 1145 	ld	(hl), b
    000004D1 18 E9            [12] 1146 	jr	00105$
    000004D3                       1147 00103$:
                                   1148 ;Source/Engine/ECS/ECS.c:93: return 255;
    000004D3 3E FF            [ 8] 1149 	ld	a, #0xff
    000004D5                       1150 00107$:
                                   1151 ;Source/Engine/ECS/ECS.c:94: }
    000004D5 33               [ 8] 1152 	inc	sp
    000004D6 C9               [16] 1153 	ret
                                   1154 	.area _CODE
                                   1155 	.area _INITIALIZER
                                   1156 	.area _CABS (ABS)
